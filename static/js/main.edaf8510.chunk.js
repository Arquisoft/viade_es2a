(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{180:function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=(r=t(325))&&r.__esModule?r:{default:r},o=function(e){if(e&&e.__esModule)return e;var n={};if(null!==e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};r.get||r.set?Object.defineProperty(n,t,r):n[t]=e[t]}return n.default=e,n}(t(0)),i=t(46);function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,a=!1,o=null;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(u){a=!0,o=u}finally{try{r||null===c.return||c.return()}finally{if(a)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u={position:"absolute",top:0,left:0,bottom:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},s={position:"absolute",top:0,left:0,bottom:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e5},l=function(e){var n=e.children,t=e.isOpen,r=void 0!==t&&t,a=e.close,c=e.elementId,l=void 0===c?"root":c;return!1===r?null:(0,i.createPortal)(o.default.createElement("div",{style:u},o.default.createElement("div",{style:s,onClick:a}),n),document.getElementById(l))},d=function(){var e=arguments.length>0&&"undefined"!==typeof arguments[0]?arguments[0]:"root",n=arguments.length>1&&"undefined"!==typeof arguments[1]?arguments[1]:{},t=n.preventScroll,r=void 0!==t&&t,i=(0,o.useState)(!1),u=c(i,2),s=u[0],d=u[1],p=(0,o.useCallback)((function(){d(!0),r&&a.default.on()}),[d,r]),f=(0,o.useCallback)((function(){d(!1),r&&a.default.off()}),[d,r]),m=(0,o.useCallback)((function(n){var t=n.children;return o.default.createElement(l,{isOpen:s,close:f,elementId:e},t)}),[s,f,e]);return[m,p,f,s]};n.default=d},19:function(e,n){e.exports=solid.data},26:function(e,n){e.exports=solid.auth},291:function(e,n,t){e.exports=t(627)},343:function(e,n){},345:function(e,n){},372:function(e,n){},374:function(e,n){},622:function(e,n,t){},627:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"documentExists",(function(){return U})),t.d(r,"createDoc",(function(){return W})),t.d(r,"deleteFile",(function(){return B})),t.d(r,"createDocument",(function(){return V})),t.d(r,"createDocumentWithTurtle",(function(){return J})),t.d(r,"createNonExistentDocument",(function(){return Y})),t.d(r,"fetchLdflexDocument",(function(){return q})),t.d(r,"resourceExists",(function(){return X})),t.d(r,"discoverInbox",(function(){return K})),t.d(r,"getLinkedInbox",(function(){return $}));var a={};t.r(a),t.d(a,"sendNotification",(function(){return ne})),t.d(a,"findUserInboxes",(function(){return te})),t.d(a,"getDefaultInbox",(function(){return re}));var o={};t.r(o),t.d(o,"checkSpecificAppPermission",(function(){return ie})),t.d(o,"checkPermissions",(function(){return ce})),t.d(o,"checkOrSetInboxAppendPermissions",(function(){return ue}));var i={};t.r(i),t.d(i,"getMarkerIcon",(function(){return se})),t.d(i,"getLocation",(function(){return le})),t.d(i,"computeDistance",(function(){return de})),t.d(i,"formatDistance",(function(){return pe}));var c={};t.r(c),t.d(c,"FULL_SCREEN_WIDTH_THRESHOLD",(function(){return ve})),t.d(c,"WIDTH_THRESHOLD",(function(){return xe})),t.d(c,"HEIGHT_THRESHOLD",(function(){return we}));var u={};t.r(u),t.d(u,"parse",(function(){return Pe})),t.d(u,"parseRemote",(function(){return Re}));var s={};t.r(s),t.d(s,"download",(function(){return Ie}));var l=t(0),d=t.n(l),p=t(46),f=t.n(p),m=t(178),b=t(8),h=t(273),g=t.n(h),v=t(274),x=t.n(v),w=new g.a(null,{loadPath:"locales/{{lng}}/{{ns}}.json"});m.a.use(w).use(x.a).use(b.a).init({fallbackLng:"en",debug:!1,whitelist:["en","es"],react:{wait:!0}});m.a;var O=t(53),y=t(2),j=t(3);function E(){var e=Object(y.a)(["\n  background-color: #c5eaf5;\n  background-repeat: no-repeat;\n  box-sizing: border-box;\n  height: 100%;\n  width: 100%;\n  position: relative;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-image: url('img/background-pattern.svg');\n  }\n"]);return E=function(){return e},e}var k=j.default.div(E()),C=function(e){var n=e.children,t=e.className;return d.a.createElement(k,{className:t},n)};function S(){var e=Object(y.a)(["\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n\n  h1 {\n    box-sizing: border-box;\n    padding: 0;\n    font-size: 28px;\n    color: rgb(40, 55, 82);\n    letter-spacing: 1.4px;\n    line-height: 40px;\n    text-align: center;\n    margin: 40px 0;\n    font-weight: bold;\n  }\n"]);return S=function(){return e},e}var N=j.default.section(S()),P=function(e){var n=e.children,t=e.className,r=e.style;return d.a.createElement(N,{style:r,className:t},d.a.createElement("div",{className:"wrapper"},n))},R=t(1),I=t.n(R);function _(){var e=Object(y.a)(["\n    @media (min-width: ","em) {\n      ","\n    }\n  "]);return _=function(){return e},e}var A={desktop:992,desktopSm:1024,tablet:768,phone:576},D=Object.keys(A).reduce((function(e,n){return e[n]=function(){return Object(j.css)(_(),A[n]/16,j.css.apply(void 0,arguments))},e}),{}),z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2?arguments[2]:void 0;return Object(O.c)(d.a.createElement(vn,{content:e,title:n,type:"error",link:t}),{autoClose:!1,className:"solid-toaster toaster-error",type:"error"})},L=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2?arguments[2]:void 0;return Object(O.c)(d.a.createElement(vn,{content:e,title:n,type:"success",link:t}),{className:"solid-toaster toaster-success",type:"success"})},T=t(4),F=t(26),M=t.n(F),G=t(19),H=t.n(G),U=function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.a.fetch(n,{headers:{"Content-Type":"text/turtle"}}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),W=function(){var e=Object(T.a)(I.a.mark((function e(n,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.fetch(n,t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t){return e.apply(this,arguments)}}(),B=function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.fetch(n,{method:"DELETE"});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}(),V=function(){var e=Object(T.a)(I.a.mark((function e(n){var t,r,a=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:"",e.prev=1,r={method:"PUT",headers:{"Content-Type":"text/turtle"},body:t},e.next=5,W(n,r);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),J=function(){var e=Object(T.a)(I.a.mark((function e(n){var t,r=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:"",e.prev=1,e.abrupt("return",W(n,{method:"PUT",headers:{"Content-Type":"text/turtle"},body:t}));case 5:throw e.prev=5,e.t0=e.catch(1),e.t0;case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(n){return e.apply(this,arguments)}}(),Y=function(){var e=Object(T.a)(I.a.mark((function e(n){var t,r,a=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:"",e.prev=1,e.next=4,U(n);case 4:return r=e.sent,e.abrupt("return",404===r.status?V(n,t):null);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),q=function(){var e=Object(T.a)(I.a.mark((function e(n){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(n);case 3:if(404!==e.sent.status){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,H.a[n];case 8:return t=e.sent,e.abrupt("return",t);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}(),X=function(){var e=Object(T.a)(I.a.mark((function e(n){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.fetch(n);case 3:return t=e.sent,e.abrupt("return",403===t.status||200===t.status);case 7:e.prev=7,e.t0=e.catch(0),z(e.t0.message,"Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),K=function(){var e=Object(T.a)(I.a.mark((function e(n){var t,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(n);case 3:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,H.a[n]["ldp:inbox"];case 8:if(!(t=e.sent)){e.next=15;break}return e.next=12,t.value;case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0=!1;case 16:return r=e.t0,e.abrupt("return",r);case 20:throw e.prev=20,e.t1=e.catch(0),e.t1;case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(n){return e.apply(this,arguments)}}(),$=function(){var e=Object(T.a)(I.a.mark((function e(n){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a[n].inbox;case 3:if(!(t=e.sent)){e.next=6;break}return e.abrupt("return",t.value);case 6:return e.abrupt("return","");case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),Z=t(24),Q=t(14),ee=t(277),ne=function(){var e=Object(T.a)(I.a.mark((function e(n,t,r,a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=3;break}return e.abrupt("return",r(t,a));case 3:throw new Error("Error: The opponent does not have an available inbox");case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t,r,a){return e.apply(this,arguments)}}(),te=function(){var e=Object(T.a)(I.a.mark((function e(n){var t,a,o,i,c,u,s,l,d,p;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=[],a=!0,o=!1,e.prev=4,c=Object(ee.a)(n);case 6:return e.next=8,c.next();case 8:return u=e.sent,a=u.done,e.next=12,u.value;case 12:if(s=e.sent,a){e.next=23;break}return d=(l=s).path,e.next=18,r.discoverInbox(d);case 18:(p=e.sent)&&(t=[].concat(Object(Q.a)(t),[Object(Z.a)({},l,{path:p})]));case 20:a=!0,e.next=6;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(4),o=!0,i=e.t0;case 29:if(e.prev=29,e.prev=30,a||null==c.return){e.next=34;break}return e.next=34,c.return();case 34:if(e.prev=34,!o){e.next=37;break}throw i;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.abrupt("return",t);case 42:throw e.prev=42,e.t1=e.catch(0),new Error(e.t1);case 45:case"end":return e.stop()}}),e,null,[[0,42],[4,25,29,39],[30,,34,38]])})));return function(n){return e.apply(this,arguments)}}(),re=function(e,n,t){return e.find((function(e){return e.name===n}))||e.find((function(e){return e.name===t}))},ae=t(12),oe=function(e,n){return n.every((function(n){return e.includes(n)}))},ie=function(){var e=Object(T.a)(I.a.mark((function e(n,t){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.AppPermission.checkPermissions(n);case 2:return r=e.sent,e.abrupt("return",r.permissions.includes(t));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(T.a)(I.a.mark((function e(n,t){var r,a,o,i,c,u;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.AppPermission.checkPermissions(n);case 2:r=e.sent,a=ae.AccessControlList.MODES,o=a.APPEND,i=a.READ,c=a.WRITE,u=a.CONTROL,null!==r&&null!==r.permissions&&oe(r.permissions,[o,i,c,u])||z(t.message,t.title,{label:t.label,href:t.href});case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(T.a)(I.a.mark((function e(n,t){var r,a,o,i,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ae.AccessControlList(t,n),e.next=3,r.getPermissions();case 3:if(a=e.sent,o=a.filter((function(e){return null===e.agents})),!(o.filter((function(e){return e.modes.includes(ae.AccessControlList.MODES.APPEND)})).length<=0)){e.next=17;break}return e.prev=7,i=[{agents:null,modes:[ae.AccessControlList.MODES.APPEND]}],c=new ae.AccessControlList(t,n),e.next=12,c.createACL(i);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(7),e.t0;case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(n,t){return e.apply(this,arguments)}}(),se=function(e){if(window.google)return new window.google.maps.MarkerImage("img/icon/marker/".concat(e,".svg"),null,null,null,new window.google.maps.Size(32,32))},le=function(e,n){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(n){e({lng:n.coords.longitude,lat:n.coords.latitude,altitude:n.coords.altitude,accuracy:n.coords.accuracy})}),n):n()},de=function(e){if(e)return pe(window.google.maps.geometry.spherical.computeLength(e.getPath().getArray()))},pe=function(e){var n=parseFloat(e);if(Number.isNaN(n))return"-";var t=n<1e3;return t||(n/=1e3),Math.round(100*(n+Number.EPSILON))/100+(t?"m":"km")},fe=t(180),me=t.n(fe),be=[{id:"feed",icon:"img/icon/feed.svg",label:"navBar.feed",to:"/feed"},{id:"myRoutes",icon:"img/icon/map.svg",label:"navBar.myRoutes",to:"/my-routes"}],he=[{label:"navBar.logOut",onClick:"logOut",icon:"lock"}],ge=Object.freeze([{markerId:0,hexCode:"#35d415"},{markerId:1,hexCode:"#d9436a"},{markerId:2,hexCode:"#87a9fa"},{markerId:3,hexCode:"#e248d3"},{markerId:4,hexCode:"#d3e248"},{markerId:5,hexCode:"#0a1058"},{markerId:6,hexCode:"#ff9135"},{markerId:7,hexCode:"#8b0703"},{markerId:8,hexCode:"#250a01"},{markerId:9,hexCode:"#ff92fa"}]),ve="475px",xe="650px",we="850px";function Oe(){var e=Object(y.a)(["\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    padding: 0;\n    line-height: .4em;\n    border: none;\n    background: none;\n\n    z-index: -1;\n    display: none;\n\n    font-size: 3em;\n\n    &:active,\n    &:hover {\n        border: none;\n        background: none;\n    }\n\n    &::before {\n        content: '\xd7';\n    }\n"]);return Oe=function(){return e},e}function ye(){var e=Object(y.a)(["\n    @media (max-width: ",") {\n        width: 100%;\n    }\n\n    @media (max-height: ",") {\n        height: 100%;\n    }\n\n    @media (min-width: ",") {\n        width: 70%;\n    }\n\n    @media (min-height: ",") {\n        height: 70%;\n    }\n\n    @media (max-height: ",") and (max-width: ",") {\n        i {\n            display: block;\n            z-index: 100002;\n        }\n    }\n\n    display: flex;\n    z-index: 100001;\n"]);return ye=function(){return e},e}var je=j.default.div(ye(),c.WIDTH_THRESHOLD,c.HEIGHT_THRESHOLD,c.WIDTH_THRESHOLD,c.HEIGHT_THRESHOLD,c.HEIGHT_THRESHOLD,c.WIDTH_THRESHOLD),Ee=j.default.i(Oe()),ke=t(172),Ce=function(e){return function(n,t){if(n)throw n;var r=t.waypoints.map((function(e){return{name:e.name,description:e.desc,lng:e.lon,lat:e.lat,elevation:e.elevation}})),a=t.tracks.map((function(e){return Se(e,r)}));a&&a.length||(a=t.routes.map((function(e){return Se(e,r)}))),e(a)}},Se=function(e,n){var t=Ne(e);return t&&t.length||(t={lat:0,lng:0}),{name:e.name?e.name:"GPX No name",description:e.description,points:t,waypoints:n}},Ne=function(e){return e.segments?e.segments.map((function(e){return e.map((function(e){return{lng:e.lon,lat:e.lat,elevation:e.elevation}}))})).flat():e.points?e.points.map((function(e){return{lng:e.lon,lat:e.lat,elevation:e.elevation}})):[]},Pe=function(e,n){Object(ke.parseGpx)(e,Ce(n))},Re=function(e,n){Object(ke.parseRemoteGpxFile)(e,Ce(n))},Ie=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json",r=new Blob([e],{type:t});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r,n);else{var a=document.createElement("a"),o=URL.createObjectURL(r);a.href=o,a.download=n,document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(o)}),0)}};function _e(){var e=Object(y.a)(["\n    min-width: 420px;\n  "]);return _e=function(){return e},e}function Ae(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  background: #ffffff;\n  border-radius: 4px;\n  box-sizing: border-box;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.3);\n  min-width: 310px;\n  min-height: 370px;\n  position: relative;\n  margin: auto;\n  padding: 40px;\n  text-align: center;\n\n  & > h1,\n  & > h2 {\n    padding: 0;\n    margin: 0;\n  }\n\n  @media screen and (max-width: 992px) {\n    width: auto;\n  }\n  ","\n"]);return Ae=function(){return e},e}var De=j.default.div(Ae(),D.tablet(_e())),ze=function(e){var n=e.children,t=e.className;return d.a.createElement(De,{className:t},n)},Le=t(10),Te=t(11),Fe=t(13),Me=t(7),Ge=t(15),He=t(23),Ue=t(278),We=t.n(Ue);function Be(){var e=Object(y.a)(["\n  border-left: none;\n  border-top: 1px solid rgba(8, 53, 117, 0.1);\n  width: 100%;\n  background: #fff;\n  padding: 0;\n  text-align: left;\n  button {\n    background: #fff;\n    line-height: 2;\n    padding: 1rem;\n    text-align: left;\n    cursor: pointer;\n    width: 100%;\n    border: none;\n    border-radius: 0px;\n    &:hover {\n      background: #c3eaf4;\n      transition: all 0.2s linear;\n      color: #52b5dd;\n    }\n  }\n  .flag-icon {\n    margin-right: 10px;\n  }\n"]);return Be=function(){return e},e}function Ve(){var e=Object(y.a)(["\n  position: absolute;\n  top: 100%;\n  right: 0;\n  z-index: 2;\n  ul {\n    display: flex;\n    position: relative;\n    min-width: 200px;\n    flex-direction: column;\n    right: 0;\n    height: auto;\n    background: #fff;\n    transition: all 0.25s ease-in-out;\n    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n  }\n  .profile-list & {\n    position: relative;\n    top: 0;\n  }\n"]);return Ve=function(){return e},e}function Je(){var e=Object(y.a)(["height: 100%;"]);return Je=function(){return e},e}function Ye(){var e=Object(y.a)(["\n  position: relative;\n  border: none;\n  background: none;\n  width: 100%;\n  padding: 0 16px;\n  margin: 5px 0;\n  display: flex;\n  align-items: center;\n\n  &:focus {\n    outline: none;\n  }\n  ","\n"]);return Ye=function(){return e},e}function qe(){var e=Object(y.a)(["display: none; path { display: none }"]);return qe=function(){return e},e}function Xe(){var e=Object(y.a)(["\n  position: relative;\n  height: auto;\n  width: 100%;\n  padding: 0 !important;\n\n  .icon {\n    margin-right: 5px;\n    font-size: 1rem;\n    color: #7c4dff;\n    ","\n  }\n"]);return Xe=function(){return e},e}var Ke=j.default.div(Xe(),D.desktop(qe())),$e=j.default.button(Ye(),D.desktop(Je())),Ze=j.default.div(Ve()),Qe=j.default.li(Be()),en=function(e){function n(e){var t;return Object(Le.a)(this,n),(t=Object(Fe.a)(this,Object(Me.a)(n).call(this,e))).toggleOpen=function(){t.props.open||t.setState((function(e){return{open:!e.open}}))},t.renderIcon=function(e){return e.customIcon?d.a.createElement("div",{className:"flag-icon flag-icon-".concat(e.icon)}):d.a.createElement(He.a,{icon:e.icon,className:"checked icon"})},t.state={open:!1},t}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"handleClickOutside",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this,n=this.props,t=n.actions,r=n.children,a=n.className,o=n.hover,i=n.open,c=this.state.open;return d.a.createElement(Ke,{className:a,onClick:this.toggleOpen,onMouseEnter:o?this.toggleOpen:null,onMouseLeave:o?this.toggleOpen:null},d.a.createElement($e,{onClick:this.toggleOpen,"data-testid":"dropdownMain"},r),(c||i)&&d.a.createElement(Ze,{className:"dropdownItem"},d.a.createElement("ul",{"data-testid":"list"},t.map((function(n,t){return d.a.createElement(Qe,{key:t,className:"item"},d.a.createElement("button",{onClick:n.onClick,type:"button"},n.icon&&e.renderIcon(n),d.a.createElement("span",null,n.label)))})))))}}]),n}(l.Component);en.defaultProps={hover:!1};var nn=We()(en);function tn(){var e=Object(y.a)(["\n  position: absolute;\n  top: -6px;\n  right: -6px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 14px;\n  height: 14px;\n  border-radius: 50%;\n  box-sizing: border-box;\n  border: none;\n  background: #1ca9e5;\n  color: #ffffff;\n  font-size: 9px;\n  font-family: Raleway;\n  font-style: normal;\n  font-weight: bold;\n  line-height: normal;\n"]);return tn=function(){return e},e}var rn=j.default.div(tn()),an=function(e){var n=e.badge;return d.a.createElement(rn,{className:"badgeWrapper"},n)};function on(){var e=Object(y.a)(["\n  background-color: #7c4dff;\n  animation: "," 1.3s infinite ease-in-out;\n  animation-delay: ","s;\n"]);return on=function(){return e},e}function cn(){var e=Object(y.a)(["\n  width: 80px;\n  height: 80px;\n  margin: 100px auto;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(3, 1fr);\n"]);return cn=function(){return e},e}function un(){var e=Object(y.a)(["\n  position: ",";\n  z-index: 9999;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0.6);\n"]);return un=function(){return e},e}function sn(){var e=Object(y.a)(["\n\t0%,\n\t70%,\n\t100% {\n\t\ttransform: scale3D(1, 1, 1);\n\t}\n\n\t35% {\n\t\ttransform: scale3D(0, 0, 1);\n\t}\n"]);return sn=function(){return e},e}var ln=Object(j.keyframes)(sn()),dn=j.default.div(un(),(function(e){return e.absolute?"absolute":"fixed"})),pn=j.default.div(cn()),fn=j.default.span(on(),ln,(function(e){return e.delay||0})),mn=function(e){function n(){var e,t;Object(Le.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(Fe.a)(this,(e=Object(Me.a)(n)).call.apply(e,[this].concat(a)))).state={show:!1},t.show=function(){return t.setState({show:!0})},t}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.delay;this.delayTimer=setTimeout(this.show,e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.delayTimer)}},{key:"render",value:function(){var e=this.state.show,n=this.props.absolute;return e&&d.a.createElement(dn,{absolute:n},d.a.createElement(pn,null,[{id:"0",value:.2},{id:"1",value:.3},{id:"2",value:.4},{id:"3",value:.1},{id:"4",value:.2},{id:"5",value:.3},{id:"6",value:0},{id:"7",value:.1},{id:"8",value:.2}].map((function(e){var n=e.id,t=e.value;return d.a.createElement(fn,{key:n,delay:t})}))))}}]),n}(l.Component);mn.defaultProps={delay:300,absolute:!1};var bn=mn;function hn(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  flex: 1 1 auto;\n\n  & > span {\n    font-weight: bold;\n    text-transform: uppercase;\n  }\n\n  & > p {\n    margin: 0;\n    padding: 2px 0;\n    color: inherit;\n  }\n\n  a {\n    color: white;\n    display: block;\n    margin: 5px 0;\n  }\n"]);return hn=function(){return e},e}var gn=j.default.div(hn()),vn=function(e){var n=e.title,t=e.content,r=e.link;return d.a.createElement(gn,null,d.a.createElement("span",null,n),d.a.createElement("p",null,t),r&&d.a.createElement("a",{href:r.href,target:"_blank",rel:"noopener noreferrer"},r.label))},xn=t(39),wn={en:{id:"en",icon:"us"},es:{id:"es",icon:"es"}},On={width:"1.75em",lineHeight:"1.75em",fontSize:"1.15em",textAlign:"center",fontWeight:"bold",color:"#52b5dd"},yn=function(e){function n(){var e;return Object(Le.a)(this,n),(e=Object(Fe.a)(this,Object(Me.a)(n).call(this))).getLanguage=function(){return localStorage.getItem("i18nextLng")||"en"},e.onLanguageSelect=function(n){var t=e.props.i18n;O.c.dismiss(),t.changeLanguage(n),e.setState({language:e.getLanguage()})},e.state={language:e.getLanguage()},e}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"render",value:function(){var e=this,n=this.props.t,t=this.state.language,r=[{label:n("navBar.languages.en"),onClick:function(){return e.onLanguageSelect("en")},customIcon:!1},{label:n("navBar.languages.es"),onClick:function(){return e.onLanguageSelect("es")},customIcon:!1}];return d.a.createElement(nn,{actions:r,hover:!0},d.a.createElement("span",{style:On},(t&&wn[t]?wn[t].id:"en").toUpperCase()))}}]),n}(l.Component),jn=t(6),En=t(173),kn=t.n(En);function Cn(){var e=Object(y.a)(["\n  background: rgb(239, 89, 80);\n  margin-right: 1em;\n"]);return Cn=function(){return e},e}function Sn(){var e=Object(y.a)(["\n  background: rgb(44, 105, 164);\n  margin-left: 1em;\n"]);return Sn=function(){return e},e}function Nn(){var e=Object(y.a)(["\n  flex: 1 0 auto;\n  color: #fff;\n  text-transform: uppercase;\n  border: none;\n  font-weight: 700;\n  letter-spacing: 1px;\n  font-size: 0.7rem;\n  padding: 0.7em 0;\n\n  &:hover {\n    color: #fff;\n  }\n"]);return Nn=function(){return e},e}function Pn(){var e=Object(y.a)(["\n  padding: 2em 0;\n  display: flex;\n"]);return Pn=function(){return e},e}function Rn(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n\n  & > div#modal-actions {\n    align-self: flex-end;\n    padding: 16px 0 0 0;\n\n    & button {\n      margin-left: 8px;\n    }\n  }\n"]);return Rn=function(){return e},e}var In=j.default.div(Rn()),_n=j.default.div(Pn()),An=j.default.button(Nn()),Dn=Object(j.default)(An)(Sn()),zn=Object(j.default)(An)(Cn());kn.a.setAppElement("#root");var Ln=function(e){var n=e.onAccept,t=e.onDecline,r=e.options,a=e.parentSelector,o=Object(l.useState)(!1),i=Object(jn.a)(o,2),c=i[0],u=i[1],s=r.message,p=r.messageComponent,f=r.acceptText,m=r.declineText,b=function(){var e=Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:u(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:u(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){u(!0)}),[]),d.a.createElement(kn.a,{isOpen:c,ariaHideApp:!1,parentSelector:function(){return document.querySelector(a)},overlayClassName:"modal-overlay",className:"modal-content"},d.a.createElement(In,{clasname:"content"},d.a.createElement("div",{className:"mensaje"},p?d.a.createElement(p,null):s),d.a.createElement(_n,null,d.a.createElement(zn,{type:"button",onClick:h,"data-testid":"declineButton"},m||"Decline"),d.a.createElement(Dn,{type:"button",onClick:b,"data-testid":"acceptButton"},f||"Accept"))))};Ln.defaultProps={parentSelector:"#root"};var Tn=Ln;function Fn(){var e=Object(y.a)(["\n    position: absolute;\n    bottom: 0px;\n    right: 0px;\n    margin: 18px;\n    padding: 0px;\n\n    text-align: center;\n\n    height: 56px;\n    width: 56px;\n\n    font-size: ",";\n    border: none;\n    border-radius: 100%;\n    box-shadow: 0px 0px 9px rgba(0, 0, 0, .5);\n    z-index: 1000;\n    background-color: ",";\n    color: ",";\n    transition-duration: 100ms;\n    cursor: pointer;\n\n    &:hover {\n        background-color: ",";\n        box-shadow: 0px 0px 11px rgba(0, 0, 0, .5);\n        color: ",";\n    }\n    \n    &:active {\n        background-color: ",";\n        box-shadow: 0px 0px 9px rgba(0, 0, 0, .5);\n    }\n"]);return Fn=function(){return e},e}var Mn=j.default.button(Fn(),(function(e){return e.fontSize?e.fontSize:"3em"}),(function(e){return e.background}),(function(e){return e.foreground}),(function(e){return e.hoverBackground}),(function(e){return e.foreground}),(function(e){return e.activeBackground})),Gn=function(e){var n=e.style,t=e.background,r=e.hoverBackground,a=e.activeBackground,o=e.foreground,i=e.onClick,c=e.text,u=e.fontSize;return d.a.createElement(Mn,{style:n,onClick:i,fontSize:u,background:t,hoverBackground:r,activeBackground:a,foreground:o,name:"create-route-floating-button"},c)},Hn=t(67),Un=t(282),Wn=t(283),Bn=t(288),Vn=t(632),Jn=function(e){function n(e){var t;return Object(Le.a)(this,n),(t=Object(Fe.a)(this,Object(Me.a)(n).call(this,e))).state={hasError:!1,error:null,info:null},t}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"componentDidCatch",value:function(e,n){this.setState({hasError:!0,error:e,info:n})}},{key:"render",value:function(){var e=this.state,n=e.hasError,t=e.error,r=e.info,a=this.props,o=a.component,i=a.children;return n?o(t,r):i}}]),n}(l.Component);function Yn(){var e=Object(y.a)(["order: 2;"]);return Yn=function(){return e},e}function qn(){var e=Object(y.a)(["\n  align-self: center;\n  order: 1;\n\n  ","\n"]);return qn=function(){return e},e}function Xn(){var e=Object(y.a)(["order: 1;"]);return Xn=function(){return e},e}function Kn(){var e=Object(y.a)(["\n  align-self: center;\n  order: 2;\n\n  img {\n    display: block;\n    max-width: 100%;\n    margin: 0 auto;\n  }\n  ","\n"]);return Kn=function(){return e},e}function $n(){var e=Object(y.a)(["\n  font-weight: 100;\n  line-height: 1.8rem;\n\n  &.subheadline {\n    font-size: 1.1rem;\n    &:after {\n      display: block;\n      content: '';\n      height: 1px;\n      width: 50%;\n      margin: 20px 0 30px;\n      background-color: #666666;\n    }\n  }\n"]);return $n=function(){return e},e}function Zn(){var e=Object(y.a)(["font-size: 2.8rem;"]);return Zn=function(){return e},e}function Qn(){var e=Object(y.a)(["\n  color: #5567f9;\n  text-transform: uppercase;\n  margin: 0;\n  ","\n"]);return Qn=function(){return e},e}function et(){var e=Object(y.a)(["\n  color: #9c79d5;\n  margin: 0;\n"]);return et=function(){return e},e}function nt(){var e=Object(y.a)(["margin: 20px auto;"]);return nt=function(){return e},e}function tt(){var e=Object(y.a)(["grid-template-columns: repeat(2, 1fr);"]);return tt=function(){return e},e}function rt(){var e=Object(y.a)(["\n  display: grid;\n  grid-template-columns: repeat(1, minmax(200px, 1fr));\n  grid-gap: 40px;\n  max-width: 1024px;\n  margin: 20px;\n\n  ","\n  ","\n"]);return rt=function(){return e},e}var at=j.default.section(rt(),D.tablet(tt()),D.desktop(nt())),ot=j.default.h1(et()),it=j.default.h2(Qn(),D.tablet(Zn())),ct=j.default.p($n()),ut=j.default.div(Kn(),D.tablet(Xn())),st=j.default.div(qn(),D.tablet(Yn())),lt=function(e){var n=e.info;return d.a.createElement(at,null,d.a.createElement(ut,null,d.a.createElement("img",{src:"img/error-ufo.svg",alt:"Error"})),d.a.createElement(st,null,d.a.createElement(ot,{"data-testid":"error-title"},"Error:"),d.a.createElement(it,{"data-testid":"error-info"},"Something Went Wrong"),d.a.createElement(ct,{className:"subheadline"},"You may refresh the page, or try again at a later time."),d.a.createElement(ct,null,n.componentStack)))},dt=t(174),pt=d.a.memo((function(e){var n=e.toolbar,t=e.open,r=e.customClass;return d.a.createElement("nav",{className:"nav nav__toolbar"},d.a.createElement("ul",null,n&&n.map((function(e,n){var a=e.component,o=e.props;return(d.a.createElement("li",{key:n,"data-testid":"item"},d.a.createElement(a,Object.assign({},o,{open:t,customClass:r}))))}))))}),(function(e,n){var t=e&&e.toolbar.length>1&&e.toolbar[1].component().props.inbox,r=n&&n.toolbar.length>1&&n.toolbar[1].component().props.inbox;return(!t||t.length===r||!r.length)&&e.open===n.open})),ft=t(630),mt=function(e){var n=e.navigation;return d.a.createElement("nav",{role:"navigation",className:"nav nav__primary"},d.a.createElement("ul",null,n&&n.map((function(e){return d.a.createElement("li",{key:e.id,"data-testid":"item"},d.a.createElement(ft.a,{to:e.to,activeClassName:"active"},d.a.createElement("span",{className:"icon"},d.a.createElement("img",{src:e.icon,alt:e.id,className:"nav-icon",width:"24px",height:"20px",style:{width:"24px"}})),d.a.createElement("span",{className:"label"},e.label)))}))))},bt=function(e){var n=e.toggleMobileMenu;return d.a.createElement("div",{className:"mobile-navigation__toggle"},d.a.createElement("button",{onClick:n,type:"button"},d.a.createElement("span",{className:"icon"},d.a.createElement("img",{src:"img/bars-nav.svg",alt:"Icon Menu"}))))};function ht(){var e=Object(y.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 10px;\n  margin: 15.5px 0;\n\n  div:first-child {\n    grid-column: 1 / 3;\n  }\n\n  button {\n    margin: 0;\n  }\n\n  .close-panel__toggle {\n    text-align: right;\n    padding-right: 20px;\n  }\n"]);return ht=function(){return e},e}var gt=j.default.div(ht()),vt=Object(b.c)()((function(e){var n=e.children,t=e.toggleMobileMenu,r=e.isOpenMobile,a=e.t,o=e.i18n,i=r?"active slideLeft":"hidden";return d.a.createElement("section",{className:"mobile-navigation-panel ".concat(i)},d.a.createElement("div",{className:"mobile-navigation-panel__wrap"},d.a.createElement(gt,null,d.a.createElement(yn,{t:a,i18n:o}),d.a.createElement("div",{className:"close-panel__toggle"},d.a.createElement("button",{type:"button",onClick:t},d.a.createElement(He.a,{className:"icon",icon:"times"})))),n))})),xt=function(e){var n=e.navigation,t=e.toolbar,r=e.sticky,a=e.t,o=Object(l.useState)(!1),i=Object(jn.a)(o,2),c=i[0],u=i[1],s=Object(l.useState)([]),p=Object(jn.a)(s,2),f=p[0],m=p[1],b=d.a.createRef(),h=function(){if(b){var e=b.clientHeight,n=document.getElementsByClassName("contentApp");n.length>0&&(n[0].style["padding-top"]="".concat(e,"px"))}};Object(l.useEffect)((function(){r&&(h(),window.addEventListener("resize",(function(){h(),window.innerWidth>=1024&&c&&u(!1)}))),function(){var e=t?t.filter((function(e){return"language"!==e.id})):[];m(e)}()}),[e,c]);var g=function(){u(!c)};return d.a.createElement("header",{role:"navigation",className:"header header__desktop fixed",ref:b},d.a.createElement("section",{className:"header-wrap"},d.a.createElement("div",{className:"logo-block"},d.a.createElement(dt.a,{to:"/welcome"},d.a.createElement("img",{src:"img/Viade1.svg",alt:"viade"}))),c?d.a.createElement(vt,{navigation:n,toolbar:t,isOpenMobile:c,toggleMobileMenu:g,t:a},d.a.createElement(mt,{navigation:n}),d.a.createElement(pt,{toolbar:f,open:!0,customClass:"profile-list"})):d.a.createElement(l.Fragment,null,n&&d.a.createElement(mt,{navigation:n}),t&&d.a.createElement(pt,{toolbar:t})),d.a.createElement(bt,{toggleMobileMenu:g})))};xt.defaultProps={sticky:!0};var wt=xt;function Ot(){var e=Object(y.a)(["\n  display: inline-block;\n  margin-left: 10px;\n"]);return Ot=function(){return e},e}function yt(){var e=Object(y.a)(["\n  background: #cccccc;\n  display: block;\n"]);return yt=function(){return e},e}function jt(){var e=Object(y.a)(["\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n"]);return jt=function(){return e},e}function Et(){var e=Object(y.a)(["\n  width: 42px;\n  height: 42px;\n  border-radius: 50%;\n  background-size: cover;\n  overflow: hidden;\n  visibility: ",";\n  display: ",";\n"]);return Et=function(){return e},e}var kt,Ct=j.default.div(Et(),(function(e){return e.show?"visible":"hidden"}),(function(e){return e.show?"block":"none"})),St=j.default.img(jt()),Nt=Object(j.default)(Ct)(yt()),Pt=(j.default.span(Ot()),function(e){function n(e){var t;return Object(Le.a)(this,n),(t=Object(Fe.a)(this,Object(Me.a)(n).call(this,e))).state={imageLoaded:!1},t.profileRedirect=function(){return t.props.history.push("/profile")},t.formModelRenderRedirect=function(){return t.props.history.push("/formModel/renderer")},t.formModelConvertRedirect=function(){return t.props.history.push("/formModel/converter")},t.onImageLoaded=Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setState({imageLoaded:!0}));case 1:case"end":return e.stop()}}),e)}))),t.logOut=Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.logout();case 3:localStorage.removeItem("solid-auth-client"),window.location="#/login",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),z(e.t0.message,"Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),t.getProfileData=Object(T.a)(I.a.mark((function e(){var n,r,a,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=H.a.user,e.next=4,n.vcard_hasPhoto;case 4:r=e.sent,a=t.state.image,o=r?r.value:a,t.setState({image:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),z(e.t0.message,"Error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),t.state={image:"img/icon/empty-profile.svg"},t}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"componentDidMount",value:function(){this.getProfileData()}},{key:"componentDidUpdate",value:function(e){var n=this.props.webId;if(n&&n!==e.webId&&this.getProfileData(),this.context){var t=this.context.timestamp;t!==kt&&(this.getProfileData(),kt=t)}}},{key:"render",value:function(){var e=this,n=this.props,t=n.t,r=n.open,a=n.customClass,o=this.state,i=o.imageLoaded,c=o.image,u=he.map((function(n){return Object(Z.a)({},n,{label:t(n.label),onClick:e[n.onClick]})}));return c?d.a.createElement(nn,{actions:u,className:"nav-bar--profile ".concat(a),open:r,hover:!0},d.a.createElement(Ct,{show:i},d.a.createElement(St,{show:i,src:c,alt:"profile",onLoad:this.onImageLoaded})),!i&&d.a.createElement(Nt,{show:!0})):d.a.createElement("div",null)}}]),n}(l.Component));Pt.contextType=ae.UpdateContext;var Rt=Pt,It=d.a.memo((function(e){var n=e.webId;return n?d.a.createElement(ae.LiveUpdate,{subscribe:n.split("#")[0]},d.a.createElement(Rt,e)):null})),_t=function(){function e(){Object(Le.a)(this,e)}return Object(Te.a)(e,null,[{key:"getIdentityProviders",value:function(){return[{id:"inrupt",label:"Inrupt",image:"img/inrupt.svg",value:"https://inrupt.net/auth",registerLink:"https://inrupt.net/register",description:"Lorem ipsum dolor sit amet non ipsom dolor"},{id:"solid-community",label:"Solid Community",image:"img/Solid.png",value:"https://solid.community",registerLink:"https://solid.community/register",description:"Lorem ipsum dolor sit non consectetur"}]}}]),e}(),At=t(9),Dt=t(279),zt=t.n(Dt),Lt=!1,Tt=function(){function e(){Object(Le.a)(this,e)}return Object(Te.a)(e,[{key:"buildPathFromWebId",value:function(e,n){if(!e)return!1;var t=new URL("object"===typeof e?e.webId:e).origin;return"".concat(t,"/").concat(n)}},{key:"getStorage",value:function(){var e=Object(T.a)(I.a.mark((function e(n,t){var r,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a[n].storage;case 2:if(r=e.sent,(a=r&&r.value.trim().length>0?r.value:"")&&!a.endsWith("/")&&(a="".concat(a,"/")),a&&0!==a.trim().length){e.next=7;break}return e.abrupt("return",this.buildPathFromWebId(n,t));case 7:return e.abrupt("return","".concat(a).concat(t));case 8:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"hasACL",value:function(){var e=Object(T.a)(I.a.mark((function e(n,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.itemExists("".concat(t,".acl"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"getRouteStorage",value:function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStorage(n,"viade/routes/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getGroupStorage",value:function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStorage(n,"viade/groups/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getCommentStorage",value:function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStorage(n,"viade/comments/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getViadeStorage",value:function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStorage(n,"viade/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getInboxStorage",value:function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStorage(n,"viade/inbox/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getMultimediaStorage",value:function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStorage(n,"viade/resources/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getSharedStorage",value:function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStorage(n,"viade/shared/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getParsedNotificationStorage",value:function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStorage(n,"viade/parsedNotifications.json");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"createInitialFiles",value:function(){var e=Object(T.a)(I.a.mark((function e(n){var t=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Lt){e.next=2;break}return e.abrupt("return");case 2:return Lt=!0,e.next=5,this.tryOperation(function(){var e=Object(T.a)(I.a.mark((function e(r){var a,i,c,u,s,l,d,p,f,m,b,h,g,v,x,w;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.checkSpecificAppPermission(n,ae.AccessControlList.MODES.WRITE);case 2:if(e.sent){e.next=6;break}return Lt=!1,e.abrupt("return");case 6:return e.next=8,t.getViadeStorage(n);case 8:return a=e.sent,e.next=11,t.getRouteStorage(n);case 11:return i=e.sent,e.next=14,t.getGroupStorage(n);case 14:return c=e.sent,e.next=17,t.getCommentStorage(n);case 17:return u=e.sent,s="".concat(a,"settings.ttl"),e.next=21,t.getMultimediaStorage(n);case 21:return l=e.sent,e.next=24,t.getSharedStorage(n);case 24:return d=e.sent,e.next=27,t.getParsedNotificationStorage(n);case 27:return p=e.sent,e.next=30,r.itemExists(a);case 30:return f=e.sent,e.next=33,r.itemExists(i);case 33:return m=e.sent,e.next=36,r.itemExists(c);case 36:return b=e.sent,e.next=39,r.itemExists(u);case 39:return h=e.sent,e.next=42,r.itemExists(l);case 42:return g=e.sent,e.next=45,r.itemExists(d);case 45:return v=e.sent,e.next=48,r.itemExists(p);case 48:if(x=e.sent,f){e.next=52;break}return e.next=52,W(H.a,{method:"PUT",headers:{"Content-Type":"text/turtle"}});case 52:return e.next=54,r.itemExists(s);case 54:if(e.sent){e.next=58;break}return e.next=58,V(s);case 58:if(m){e.next=61;break}return e.next=61,r.createFolder(i);case 61:if(b){e.next=64;break}return e.next=64,r.createFolder(c);case 64:if(h){e.next=67;break}return e.next=67,r.createFolder(u,{createPath:!0});case 67:if(g){e.next=70;break}return e.next=70,r.createFolder(l);case 70:if(v){e.next=73;break}return e.next=73,r.createFolder(d);case 73:if(x){e.next=76;break}return e.next=76,r.createFile(p,JSON.stringify([]),"application/json");case 76:return w=[{agents:null,modes:[ae.AccessControlList.MODES.READ]}],t.appendPermissions(r,n,s,w),Lt=!1,e.abrupt("return",!0);case 80:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"existsResource",value:function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tryOperation(function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.itemExists(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"canRead",value:function(){var e=Object(T.a)(I.a.mark((function e(n){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFileClient();case 2:return t=e.sent,e.prev=3,e.next=6,t.itemExists(n);case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(n){return e.apply(this,arguments)}}()},{key:"tryOperation",value:function(){var e=Object(T.a)(I.a.mark((function e(n,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=n,e.next=4,this.getFileClient();case 4:return e.t1=e.sent,e.next=7,(0,e.t0)(e.t1);case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t2=e.catch(0),console.error(e.t2),t&&t(),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(n,t){return e.apply(this,arguments)}}()},{key:"getFileClient",value:function(){var e=Object(T.a)(I.a.mark((function e(){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new zt.a(M.a),e.next=3,M.a.currentSession();case 3:if(e.sent){e.next=8;break}return e.next=7,M.a.login();case 7:e.sent;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"appendPermissions",value:function(){var e=Object(T.a)(I.a.mark((function e(n,t,r,a){var o,i,c=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c.length>4&&void 0!==c[4]&&c[4],i=new ae.AccessControlList(t,r),e.t0=!o,!e.t0){e.next=7;break}return e.next=6,this.hasACL(n,r);case 6:e.t0=e.sent;case 7:if(!e.t0){e.next=12;break}return e.next=10,i.assignPermissions(a);case 10:e.next=14;break;case 12:return e.next=14,i.createACL(a);case 14:case"end":return e.stop()}}),e,this)})));return function(n,t,r,a){return e.apply(this,arguments)}}()},{key:"removePermissions",value:function(){var e=Object(T.a)(I.a.mark((function e(n,t,r,a){var o,i,c=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]&&c[4],i=new ae.AccessControlList(t,r),e.next=4,this.hasACL(n,r);case 4:if(!e.sent){e.next=12;break}if(o){e.next=10;break}return e.next=8,i.removePermissions(a);case 8:e.next=12;break;case 10:return e.next=12,i.deleteACL(a);case 12:case"end":return e.stop()}}),e,this)})));return function(n,t,r,a){return e.apply(this,arguments)}}()},{key:"getPermissions",value:function(){var e=Object(T.a)(I.a.mark((function e(n,t,r){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new ae.AccessControlList(t,r),e.next=3,this.hasACL(n,r);case 3:if(!e.sent){e.next=7;break}return e.next=6,a.getPermissions();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}()}]),e}(),Ft=t(634),Mt=Object.freeze({"@version":1.1,comments:{"@id":"viade:routeComments","@type":"@id"},description:{"@id":"schema:description","@type":"xs:string"},date:{"@id":"schema:uploadDate","@type":"xs:long"},media:{"@container":"@list","@id":"viade:media"},name:{"@id":"schema:name","@type":"xs:string"},author:{"@id":"schema:author","@type":"@id"},points:{"@container":"@list","@id":"viade:points"},waypoints:{"@container":"@list","@id":"viade:waypoints"},latitude:{"@id":"schema:latitude","@type":"xs:double"},longitude:{"@id":"schema:longitude","@type":"xs:double"},schema:"http://schema.org/",viade:"http://arquisoft.github.io/viadeSpec/",xs:"http://www.w3.org/2001/XMLSchema#"}),Gt=Object.freeze({"@version":1.1,friends:{"@container":"@list","@id":"viade:friends"},name:{"@id":"schema:name","@type":"xs:string"},date:{"@id":"schema:dateCreated","@type":"xs:long"},description:{"@id":"schema:description","@type":"xs:string"},schema:"http://schema.org/",viade:"http://arquisoft.github.io/viadeSpec/",xs:"http://www.w3.org/2001/XMLSchema#"}),Ht=Object.freeze({"@context":{"@version":1.1,comments:{"@container":"@list","@id":"viade:comments"},comment:{"@id":"viade:comment","@type":"@id"},dateCreated:{"@id":"viade:dateCreated","@type":"xsd:date"},text:{"@id":"viade:text","@type":"xsd:string"},viade:"http://arquisoft.github.io/viadeSpec/",xsd:"http://www.w3.org/2001/XMLSchema#"}}),Ut=new(function(e){function n(){return Object(Le.a)(this,n),Object(Fe.a)(this,Object(Me.a)(n).apply(this,arguments))}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"transformComments",value:function(e){return Object(Z.a)({"@context":Ht},e)}},{key:"postComment",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(n){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,n.readFile(r.comments);case 3:return e.t1=e.sent,(a=e.t0.parse.call(e.t0,e.t1)).comments.push(t),e.next=8,n.createFile(r.comments,JSON.stringify(a),"application/ld+json");case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"getComments",value:function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(n){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,n.readFile(t.comments);case 3:return e.t1=e.sent,r=e.t0.parse.call(e.t0,e.t1),e.abrupt("return",r.comments);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getCommentsURIs",value:function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"this",this).tryOperation(function(){var e=Object(T.a)(I.a.mark((function e(n){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.readFile(t.comments);case 2:return r=e.sent,e.abrupt("return",r.comments);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"readComment",value:function(){var e=Object(T.a)(I.a.mark((function e(t){var r=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=t,e.next=4,n.readFile(t);case 4:return e.t2=e.sent,e.abrupt("return",e.t0.parseComment.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"deleteComment",value:function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.deleteFile(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"existsComment",value:function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"existsResource",this).call(this,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"generateCommentsURI",value:function(){var e=Object(T.a)(I.a.mark((function e(t){var r,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"getCommentStorage",this).call(this,t);case 2:return r=e.sent,a=Object(Ft.a)(),e.abrupt("return","".concat(r).concat(a,".jsonld"));case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"createCommentsFile",value:function(){var e=Object(T.a)(I.a.mark((function e(n){var t=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.tryOperation(function(){var e=Object(T.a)(I.a.mark((function e(r){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={comments:[]},e.next=3,r.createFile(n,JSON.stringify(t.transformComments(a)),"application/ld+json");case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"parseComment",value:function(e,n){try{var t=JSON.parse(n);return t.id=e,t}catch(r){return null}}}]),n}(Tt)),Wt=new(function(e){function n(){return Object(Le.a)(this,n),Object(Fe.a)(this,Object(Me.a)(n).apply(this,arguments))}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"uploadMultimedia",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r){var a=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(o){var i,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"getMultimediaStorage",a).call(a,r);case 2:i=e.sent,c=[{agents:null,modes:[ae.AccessControlList.MODES.READ]}],t.forEach(function(){var e=Object(T.a)(I.a.mark((function e(t){var u;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u="".concat(i).concat(t.name),e.next=3,o.putFile(u,t,t.type);case 3:return e.next=5,Object(At.a)(Object(Me.a)(n.prototype),"appendPermissions",a).call(a,o,r,u,c,!0);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"deleteMultimedia",value:function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.deleteFile(t["@id"]);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()}]),n}(Tt)),Bt=t(119),Vt=new(function(e){function n(){return Object(Le.a)(this,n),Object(Fe.a)(this,Object(Me.a)(n).apply(this,arguments))}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"transformRoute",value:function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Z.a)({"@context":Mt},n));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"saveRoute",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r,a){var o=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(i){var c,u;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}e.t0=null,e.next=7;break;case 4:return e.next=6,Ut.generateCommentsURI(t);case 6:e.t0=e.sent;case 7:if(c=e.t0,r.comments=a?a.comments:c,e.t1=i,!a){e.next=14;break}e.t2=a.id,e.next=17;break;case 14:return e.next=16,o.generateRouteURI(t);case 16:e.t2=e.sent;case 17:return e.t3=e.t2,e.t4=JSON,e.next=21,o.transformRoute(r);case 21:return e.t5=e.sent,e.t6=e.t4.stringify.call(e.t4,e.t5),e.next=25,e.t1.createFile.call(e.t1,e.t3,e.t6,"application/ld+json");case 25:if(a){e.next=31;break}return e.next=28,Ut.createCommentsFile(c);case 28:return u=[{agents:null,modes:[ae.AccessControlList.MODES.READ,ae.AccessControlList.MODES.APPEND]}],e.next=31,Object(At.a)(Object(Me.a)(n.prototype),"appendPermissions",o).call(o,i,t,c,u,!0);case 31:return e.abrupt("return",!0);case 32:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}()},{key:"canReadRouteDir",value:function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object(At.a)(Object(Me.a)(n.prototype),"canRead",this),e.t1=this,e.next=4,this.getPublishedRoutesPath(t);case 4:return e.t2=e.sent,e.next=7,e.t0.call.call(e.t0,e.t1,e.t2);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"hasShared",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object(At.a)(Object(Me.a)(n.prototype),"canRead",this),e.t1=this,e.next=4,this.getSharedRoutesPath(t,r);case 4:return e.t2=e.sent,e.next=7,e.t0.call.call(e.t0,e.t1,e.t2);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"createUserRouteFile",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r){var a=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,a.getSharedFileUrl(t,r);case 3:return e.t1=e.sent,e.t2=JSON.stringify({routes:[]}),e.next=7,e.t0.createFile.call(e.t0,e.t1,e.t2,"application/ld+json");case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"addRouteToUserFile",value:function(){var e=Object(T.a)(I.a.mark((function e(n,t,r){var a=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tryOperation(function(){var e=Object(T.a)(I.a.mark((function e(o){var i,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getSharedFileUrl(n,r);case 2:return i=e.sent,e.next=5,o.itemExists(i);case 5:if(e.sent){e.next=8;break}return e.next=8,a.createUserRouteFile(n,r);case 8:return e.t0=JSON,e.next=11,o.readFile(i);case 11:return e.t1=e.sent,(c=e.t0.parse.call(e.t0,e.t1)).routes.push({"@id":t}),e.next=16,o.createFile(i,JSON.stringify(c),"application/ld+json");case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}()},{key:"updateSharedFolder",value:function(){var e=Object(T.a)(I.a.mark((function e(t){var r=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(a){var o,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,Object(At.a)(Object(Me.a)(n.prototype),"getInboxStorage",r).call(r,t);case 3:return e.t1=e.sent,e.next=6,e.t0.readFolder.call(e.t0,e.t1);case 6:return o=e.sent,e.t2=JSON,e.t3=a,e.next=11,Object(At.a)(Object(Me.a)(n.prototype),"getParsedNotificationStorage",r).call(r,t);case 11:return e.t4=e.sent,e.next=14,e.t3.readFile.call(e.t3,e.t4);case 14:e.t5=e.sent,i=e.t2.parse.call(e.t2,e.t5),o.files.forEach(function(){var e=Object(T.a)(I.a.mark((function e(o){var c,u,s,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==i.filter((function(e){return e===o.url})).length){e.next=18;break}return i.push(o.url),e.t0=a,e.next=6,Object(At.a)(Object(Me.a)(n.prototype),"getParsedNotificationStorage",r).call(r,t);case 6:return e.t1=e.sent,e.t2=JSON.stringify(i),e.next=10,e.t0.createFile.call(e.t0,e.t1,e.t2,"application/json");case 10:return e.next=12,Object(Bt.a)(o.url);case 12:return c=e.sent,u=c.getSubject(o.url),s=u.getAllRefs("https://www.w3.org/ns/activitystreams#object")[0],l=u.getAllRefs("https://www.w3.org/ns/activitystreams#actor"),e.next=18,r.addRouteToUserFile(t,s,l);case 18:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getSharedFileUrl",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.toString().replace(/(^\w+:|^)\/\//,"").replace(/\/.*$/,"").replace(/\./g,"-").replace(/\//g,""),e.t0="",e.next=4,Object(At.a)(Object(Me.a)(n.prototype),"getSharedStorage",this).call(this,t);case 4:return e.t1=e.sent,e.t2=a,e.abrupt("return",e.t0.concat.call(e.t0,e.t1).concat(e.t2,".jsonld"));case 7:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"getRoutesOf",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r){var a=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(o){var i,c,u;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],c=Object(At.a)(Object(Me.a)(n.prototype),"getSharedFileUrl",a).call(a,t,r),e.next=4,o.itemExists(c);case 4:if(!e.sent){e.next=11;break}return e.t0=JSON,e.next=8,o.readFile(c);case 8:e.t1=e.sent,u=e.t0.parse.call(e.t0,e.t1),i=u.routes;case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"findAllRoutes",value:function(){var e=Object(T.a)(I.a.mark((function e(t){var r=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(a){var o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,Object(At.a)(Object(Me.a)(n.prototype),"getRouteStorage",r).call(r,t);case 3:return e.t1=e.sent,e.next=6,e.t0.readFolder.call(e.t0,e.t1);case 6:return o=e.sent,e.next=9,Promise.all(o.files.map((function(e){return a.readFile(e.url)})));case 9:return e.t2=function(e,n){return r.parseRoute(o.files[n].url,e)},e.t3=function(e){return e},e.abrupt("return",e.sent.map(e.t2).filter(e.t3));case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getRoutesByOwner",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r){var a=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(o){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.updateSharedFolder(r);case 2:return e.next=4,Promise.all(t.map(function(){var e=Object(T.a)(I.a.mark((function e(t){var i,c,u,s,l,d;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getSharedFileUrl(r,t);case 2:return i=e.sent,e.next=5,a.getPublishedRoutesPath(t);case 5:return c=e.sent,e.next=8,Promise.all([i,c].map(function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"canRead",a).call(a,t);case 2:if(!e.sent){e.next=10;break}return e.t0=JSON,e.next=6,o.readFile(t);case 6:return e.t1=e.sent,e.abrupt("return",e.t0.parse.call(e.t0,e.t1));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 8:return(u=e.sent)[0].routes=u[0].routes.map((function(e){return e["@id"]})),s=Object(Q.a)(new Set(u.filter((function(e){return e})).map((function(e){return e.routes})).flat())),e.next=13,Promise.all(s.map(function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"canRead",a).call(a,t);case 2:if(!e.sent){e.next=6;break}e.t0=t,e.next=7;break;case 6:e.t0=null;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 13:return e.t0=function(e){return e},l=e.sent.filter(e.t0),e.next=17,Promise.all(l.map(function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.t1=n,e.next=4,o.readFile(n);case 4:return e.t2=e.sent,e.abrupt("return",e.t0.parseRoute.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 17:return e.t1=function(e){return e},d=e.sent.filter(e.t1),e.abrupt("return",{targetId:t,routes:d});case 20:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"readRoute",value:function(){var e=Object(T.a)(I.a.mark((function e(t){var r=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=t,e.next=4,n.readFile(t);case 4:return e.t2=e.sent,e.abrupt("return",e.t0.parseRoute.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getPublishedRoutesPath",value:function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="",e.next=3,Object(At.a)(Object(Me.a)(n.prototype),"getRouteStorage",this).call(this,t);case 3:return e.t1=e.sent,e.t2="public/published.json",e.abrupt("return",e.t0.concat.call(e.t0,e.t1).concat(e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getSharedRoutesPath",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.replace(/(^\w+:|^)\/\//,"").replace(/\/.*$/,"").replace(/\./g,"-").replace(/\//g,""),e.t0="",e.next=4,Object(At.a)(Object(Me.a)(n.prototype),"getRouteStorage",this).call(this,t);case 4:return e.t1=e.sent,e.t2="public/",e.t3=a,e.abrupt("return",e.t0.concat.call(e.t0,e.t1).concat(e.t2).concat(e.t3,".json"));case 8:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"updatePublished",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r,a,o){var i,c,u,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==o){e.next=2;break}return e.abrupt("return",!1);case 2:if(!o){e.next=8;break}return e.next=5,this.getSharedRoutesPath(t,o);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,this.getPublishedRoutesPath(t);case 10:e.t0=e.sent;case 11:return i=e.t0,c=new Set,e.next=15,r.itemExists(i);case 15:if(!(u=e.sent)){e.next=24;break}return e.t1=Set,e.t2=JSON,e.next=21,r.readFile(i);case 21:e.t3=e.sent,e.t4=e.t2.parse.call(e.t2,e.t3).routes,c=new e.t1(e.t4);case 24:return a(c),e.next=27,r.createFile(i,JSON.stringify({routes:Object(Q.a)(c)}),"application/json");case 27:if(u){e.next=31;break}return s=[{agents:o?[o]:null,modes:[ae.AccessControlList.MODES.READ]}],e.next=31,Object(At.a)(Object(Me.a)(n.prototype),"appendPermissions",this).call(this,r,t,i,s,!0);case 31:return e.abrupt("return",!0);case 32:case"end":return e.stop()}}),e,this)})));return function(n,t,r,a){return e.apply(this,arguments)}}()},{key:"getShareTargets",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r){var a=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(o){var i,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"getPermissions",a).call(a,o,t,r);case 2:if(i=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:return c=i.filter((function(e){return e.modes.includes("Read")})).map((function(e){return e.agents})).flat().filter((function(e){return e!==t})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"publishRoute",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r){var a,o=this,i=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:[null],e.next=3,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(i){var c,u;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,i.readFile(r);case 3:return e.t1=e.sent,c=e.t0.parse.call(e.t0,e.t1),e.next=7,Promise.all(a.map(function(){var e=Object(T.a)(I.a.mark((function e(a){var u,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.updatePublished(t,i,(function(e){return e.add(r)}),a);case 2:if(!e.sent){e.next=9;break}return u=[{agents:a?[a]:null,modes:[ae.AccessControlList.MODES.READ]}],s=[{agents:a?[a]:null,modes:[ae.AccessControlList.MODES.READ,ae.AccessControlList.MODES.WRITE]}],e.next=7,Object(At.a)(Object(Me.a)(n.prototype),"appendPermissions",o).call(o,i,t,r,u,!a);case 7:return e.next=9,Object(At.a)(Object(Me.a)(n.prototype),"appendPermissions",o).call(o,i,t,c.comments,s,!a);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 7:return u=e.sent,e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"depublishRoute",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r){var a,o=this,i=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:[null],e.next=3,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(i){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.forEach(function(){var e=Object(T.a)(I.a.mark((function e(a){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.updatePublished(t,i,(function(e){return e.delete(r)}),a);case 2:if(!e.sent){e.next=6;break}return c=[{agents:a?[a]:null,modes:[ae.AccessControlList.MODES.READ]}],e.next=6,Object(At.a)(Object(Me.a)(n.prototype),"removePermissions",o).call(o,i,t,r,c,!a);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"deleteRoute",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.depublishRoute(t,r);case 2:return e.next=4,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(n){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,n.readFile(r);case 3:return e.t1=e.sent,t=e.t0.parse.call(e.t0,e.t1),e.next=7,n.deleteFile(t.comments);case 7:return e.next=9,n.deleteFile(r);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"existsRoute",value:function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"existsResource",this).call(this,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"generateRouteURI",value:function(){var e=Object(T.a)(I.a.mark((function e(t){var r,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"getRouteStorage",this).call(this,t);case 2:return r=e.sent,a=Object(Ft.a)(),e.abrupt("return","".concat(r).concat(a,".jsonld"));case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"parseRoute",value:function(e,n){try{var t=JSON.parse(n);return t.id=e,t.media||(t.media=[]),t.waypoints.forEach((function(e){e.lat=e.latitude,e.lng=e.longitude,delete e.latitude,delete e.longitude})),t.points.forEach((function(e){e.lat=e.latitude,e.lng=e.longitude,delete e.latitude,delete e.longitude})),t}catch(r){return null}}},{key:"addMultimedia",value:function(){var e=Object(T.a)(I.a.mark((function e(n,t,r){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.length>0)){e.next=6;break}return Wt.uploadMultimedia(t,r),e.next=4,this.getMultimediaStorage(r);case 4:a=e.sent,t.forEach((function(e){n.media.push({"@id":"".concat(a).concat(e.name)})}));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}()},{key:"exportRoute",value:function(e){var n=Object.assign({},e);return delete n.id,delete n.color,delete n.comments,delete n["@context"],n.waypoints=e.waypoints.map((function(e){var n=Object.assign({},e);return delete n.color,n})),n}}]),n}(Tt)),Jt=t(284),Yt=new(function(e){function n(){return Object(Le.a)(this,n),Object(Fe.a)(this,Object(Me.a)(n).apply(this,arguments))}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"findFriendsFor",value:function(){var e=Object(T.a)(I.a.mark((function e(n){var t,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Bt.a)(n);case 2:return t=e.sent,r=t.getSubject(n),e.abrupt("return",r.getAllRefs(Jt.a.knows));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"findValidFriends",value:function(){var e=Object(T.a)(I.a.mark((function e(n){var t,r=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findFriendsFor(n);case 2:return t=e.sent,e.t0=Q.a,e.t1=Set,e.next=7,Promise.all(t.map((function(e){return r.exists(e)?e:null})));case 7:return e.t2=function(e){return e},e.t3=e.sent.filter(e.t2),e.t4=new e.t1(e.t3),e.abrupt("return",(0,e.t0)(e.t4));case 11:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"exists",value:function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,Object(At.a)(Object(Me.a)(n.prototype),"existsResource",this).call(this,t);case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"addFriend",value:function(){var e=Object(T.a)(I.a.mark((function e(n,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a[n].knows.add(H.a[t]);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"deleteFriend",value:function(){var e=Object(T.a)(I.a.mark((function e(n,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a[n].knows.delete(H.a[t]);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()}]),n}(Tt)),qt=new(function(e){function n(){return Object(Le.a)(this,n),Object(Fe.a)(this,Object(Me.a)(n).apply(this,arguments))}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"transformGroup",value:function(e){return Object(Z.a)({"@context":Gt},e)}},{key:"saveGroup",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r){var a=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,a.generateGroupURI(t);case 3:return e.t1=e.sent,e.t2=JSON.stringify(a.transformGroup(r)),e.next=7,e.t0.createFile.call(e.t0,e.t1,e.t2,"application/ld+json");case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"editGroup",value:function(){var e=Object(T.a)(I.a.mark((function e(t,r){var a=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(n){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.id,e.next=3,n.createFile(t,JSON.stringify(a.transformGroup(r)),"application/ld+json");case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"findAllGroups",value:function(){var e=Object(T.a)(I.a.mark((function e(t){var r=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(a){var o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,Object(At.a)(Object(Me.a)(n.prototype),"getGroupStorage",r).call(r,t);case 3:return e.t1=e.sent,e.next=6,e.t0.readFolder.call(e.t0,e.t1);case 6:return o=e.sent,e.t2=Q.a,e.t3=Set,e.next=11,Promise.all(o.files.map((function(e){return a.readFile(e.url)})));case 11:return e.t4=function(e,n){return r.parseGroup(o.files[n].url,e)},e.t5=function(e){return e},e.t6=e.sent.map(e.t4).filter(e.t5),e.t7=new e.t3(e.t6),e.abrupt("return",(0,e.t2)(e.t7));case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"readGroup",value:function(){var e=Object(T.a)(I.a.mark((function e(t){var r=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=t,e.next=4,n.readFile(t);case 4:return e.t2=e.sent,e.abrupt("return",e.t0.parseGroup.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"deleteGroup",value:function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"tryOperation",this).call(this,function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.deleteFile(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"existsGroup",value:function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"existsResource",this).call(this,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"generateGroupURI",value:function(){var e=Object(T.a)(I.a.mark((function e(t){var r,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.a)(Object(Me.a)(n.prototype),"getGroupStorage",this).call(this,t);case 2:return r=e.sent,a=Object(Ft.a)(),e.abrupt("return","".concat(r).concat(a,".jsonld"));case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"parseGroup",value:function(e,n){try{var t=JSON.parse(n);return t.id=e,t}catch(r){return null}}}]),n}(Tt)),Xt=new(function(e){function n(){return Object(Le.a)(this,n),Object(Fe.a)(this,Object(Me.a)(n).apply(this,arguments))}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"getUserName",value:function(){var e=Object(T.a)(I.a.mark((function e(n){var t,r,a,o,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=H.a[n],e.next=3,t.vcard_fn;case 3:return r=e.sent,a=/^https:\/\//gi,o=/\/profile\/card#me$/gi,i=r&&r.value.trim().length>0?r.value:n.toString().replace(a,"").replace(o,""),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"getProfile",value:function(){var e=Object(T.a)(I.a.mark((function e(n){var t,r,a,o,i,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=H.a[n],e.next=3,t.vcard_fn;case 3:return r=e.sent,a=r&&r.value.trim().length>0?r.value:n.toString(),e.next=7,t.vcard_hasPhoto;case 7:return(o=e.sent)&&o.value?(c=o.value,i=!0):(i=!1,c="img/icon/empty-profile.svg"),e.abrupt("return",{name:a,image:c,hasImage:i,webId:n});case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}]),n}(Tt)),Kt=t(176),$t=t.n(Kt),Zt=new(function(){function e(){Object(Le.a)(this,e)}return Object(Te.a)(e,[{key:"getCovidInfoByCountry",value:function(){var e=Object(T.a)(I.a.mark((function e(n,r){var a,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t(399),e.next=3,a({method:"GET",url:"https://covid-19-coronavirus-statistics.p.rapidapi.com/v1/total",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"covid-19-coronavirus-statistics.p.rapidapi.com","x-rapidapi-key":"011c9301d3mshd3fa9700ba0acf1p168b7djsn344cd12237eb"},params:{country:n}}).then((function(e){o=e.data.data})).catch((function(e){return console.error(e)}));case 3:if("Global"!==o.location){e.next=6;break}return e.next=6,a({method:"GET",url:"https://covid-19-coronavirus-statistics.p.rapidapi.com/v1/total",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"covid-19-coronavirus-statistics.p.rapidapi.com","x-rapidapi-key":"011c9301d3mshd3fa9700ba0acf1p168b7djsn344cd12237eb"},params:{country:r}}).then((function(e){o=e.data.data})).catch((function(e){return console.log(e)}));case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"getCovidByCoordinates",value:function(){var e=Object(T.a)(I.a.mark((function e(n,t){var r,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $t.a.setApiKey("AIzaSyAOk4abibzy-RPB3hyqHrln6YfCEmOnJoo"),r="Global",a="Global",e.next=5,$t.a.fromLatLng(n,t).then((function(e){e.results[0].address_components.forEach((function(e){e.types.includes("country")&&(r=e.long_name,a=e.short_name)}))}),(function(e){return console.error(e)}));case 5:if(!r){e.next=9;break}return e.next=8,this.getCovidInfoByCountry(r,a);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()}]),e}()),Qt=d.a.memo((function(e){var n=Object(l.useState)([]),t=Object(jn.a)(n,2),a=t[0],o=t[1],i=Object(b.b)(),c=i.t,u=i.i18n,s=be.map((function(e){return Object(Z.a)({},e,{label:c(e.label)})})),p=e.webId,f=Object(l.useCallback)(Object(T.a)(I.a.mark((function e(){var n,t,a,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],e.next=4,Xt.getViadeStorage(p);case 4:return t=e.sent,e.next=7,r.discoverInbox("".concat(t,"settings.ttl"));case 7:return(a=e.sent)&&(n=[].concat(Object(Q.a)(n),[{path:a,inboxName:"Viade",shape:"default"}])),e.next=11,r.discoverInbox(p);case 11:(i=e.sent)&&(n=[].concat(Object(Q.a)(n),[{path:i,inboxName:c("navBar.notifications.global"),shape:"default"}])),0===n.length&&z(c("noInboxUser.message"),"Error",{label:c("noInboxUser.link.label"),href:c("noInboxUser.link.href")}),o(n),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),z(e.t0.message,c("navBar.notifications.fetchingError"));case 20:case"end":return e.stop()}}),e,null,[[0,17]])}))),[p,a]);Object(l.useEffect)((function(){p&&f()}),[p]);var m=e.history;return d.a.createElement(wt,{navigation:s,sticky:!0,toolbar:[{component:function(){return d.a.createElement(yn,{t:c,i18n:u})},id:"language"},{component:function(){return d.a.createElement(ea,{webId:p,inbox:a})},id:"notifications"},{component:function(e){return d.a.createElement(It,Object(Z.a)({t:c,i18n:u,webId:p,history:m},e))},id:"profile"}]})})),er=d.a.memo((function(e){var n=e.location,t=e.webId,r=e.history;return d.a.createElement(Qt,{location:n,webId:t,history:r})}));function nr(){var e=Object(y.a)(["\n  color: white;\n"]);return nr=function(){return e},e}function tr(){var e=Object(y.a)(["\n  background: rgba(23, 20, 34, 0.73);\n  border-radius: 360px;\n  position: absolute;\n  padding: 20px;\n  top: 0;\n  left: 0;\n  border: 3px solid white;\n  color: white;\n  right: 0;\n  bottom: 0;\n  text-align: center;\n"]);return tr=function(){return e},e}function rr(){var e=Object(y.a)(["\n  border: none;\n  background: rgba(23, 20, 34, 0.73);\n  border-radius: 360px;\n  display: block;\n  transition: all 0.3s ease-in;\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  padding: 20px;\n  bottom: 0;\n  top: 0;\n  left: 0;\n  &:hover {\n    border: 3px solid white;\n    color: white;\n  }\n"]);return rr=function(){return e},e}function ar(){var e=Object(y.a)(["\n  width: 128px;\n  position: relative;\n  padding-bottom: 100%;\n  background-size: cover;\n  overflow: hidden;\n  border-radius: 360px;\n  img {\n    border-radius: 360px;\n    border: 3px solid white;\n    box-sizing: border-box;\n    width: 100%;\n    height: 128px;\n  }\n  &:hover {\n    button {\n      opacity: 1;\n    }\n  }\n  .upload-icon {\n    display: block;\n    margin: 0 auto 10px auto;\n    font-size: 1.6rem;\n    opacity: 0.7;\n  }\n"]);return ar=function(){return e},e}var or=j.default.div(ar()),ir=j.default.button(rr()),cr=j.default.div(tr()),ur=j.default.p(nr()),sr=function(e){var n=e.uploadedFiles,t=e.photo,r=e.overrideEventDefaults,a=e.onDragLeave,o=e.onDragEnter,i=e.onDrop,c=e.onClickFile,u=e.text,s=e.inProgress,l=e.uploadingText,p=n&&n.length>0?n[n.length-1].uri:t;return d.a.createElement(or,{onDragStart:r,onDragOver:r,onDragEnd:r,onDrag:r,onDragLeave:a,onDragEnter:o,onDrop:i,style:p&&""!==p&&{backgroundImage:"url(".concat(p,")")}},d.a.createElement(ir,{onClick:c,className:"button-upload"},d.a.createElement(He.a,{icon:"upload",className:"upload-icon"}),u),s&&d.a.createElement(cr,{className:"image-profile-loader"},d.a.createElement(He.a,{icon:"spinner",spin:!0,size:"2x"}),d.a.createElement(ur,null,l)))};sr.defaultProps={text:"Upload New Photo",uploadingText:"Uploading"};var lr=sr;Object(b.c)()((function(e){var n=e.t,t=Object(Hn.a)({prefix:"fab",iconName:"github"});return d.a.createElement("footer",{className:"solid-footer footer"},d.a.createElement("section",{className:"solid-footer__content"},d.a.createElement("div",{className:"solid-footer__content--copyright"},d.a.createElement("ul",null,d.a.createElement("li",null,n("footer.version"),""," ",d.a.createElement("span",{className:"build-value"},Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_MULTIMEDIA_PATH:"resources/",REACT_APP_GROUPS_PATH:"groups/",REACT_APP_ROUTES_PATH:"routes/",REACT_APP_COMPANY_NAME:"viade_es2a",REACT_APP_COMMENTS_PATH:"comments/",REACT_APP_URL_BASE:"/viade_es2a",REACT_APP_COVID_API_KEY:"011c9301d3mshd3fa9700ba0acf1p168b7djsn344cd12237eb",REACT_APP_INBOX_PATH:"inbox/",REACT_APP_VIADE_PATH_BASE:"viade/",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAOk4abibzy-RPB3hyqHrln6YfCEmOnJoo"}).REACT_APP_VERSION)))),d.a.createElement("div",{className:"solid-footer__content--links"},d.a.createElement("ul",null,d.a.createElement("li",null,d.a.createElement("a",{href:"https://github.com/Arquisoft/viade_es2a",target:"_blank",rel:"noopener noreferrer"},d.a.createElement(He.a,{className:"link-icon",icon:t}),Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_MULTIMEDIA_PATH:"resources/",REACT_APP_GROUPS_PATH:"groups/",REACT_APP_ROUTES_PATH:"routes/",REACT_APP_COMPANY_NAME:"viade_es2a",REACT_APP_COMMENTS_PATH:"comments/",REACT_APP_URL_BASE:"/viade_es2a",REACT_APP_COVID_API_KEY:"011c9301d3mshd3fa9700ba0acf1p168b7djsn344cd12237eb",REACT_APP_INBOX_PATH:"inbox/",REACT_APP_VIADE_PATH_BASE:"viade/",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAOk4abibzy-RPB3hyqHrln6YfCEmOnJoo"}).REACT_APP_NAME))))))}));function dr(){var e=Object(y.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border: none;\n  background: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  border-radius: 0;\n\n  &:active,\n  &:focus,\n  &:hover,\n  &.active {\n    outline: none;\n  }\n  \n  &:hover {\n    background: #e7faff;\n  }\n\n  &:active,\n  &.active {\n    background: #c3eaf4;\n  }\n\n  .icon {\n    width: 18px;\n    height: 18px;\n    position: relative;\n  }\n"]);return dr=function(){return e},e}var pr=j.default.button(dr()),fr=function(e){var n=e.unread,t=e.onClick,r=e.active;return d.a.createElement(pr,{className:"bell-icon ".concat(r?"active":""),onClick:t,type:"button"},d.a.createElement("div",{className:"icon"},n>0&&d.a.createElement(an,{badge:n}),d.a.createElement("img",{src:"img/icon/notification.svg",alt:"notifications"})))},mr=t(118),br=t.n(mr);function hr(){var e=Object(y.a)(["\n  max-width: 30px;\n  border-radius: 60px;\n  height: 30px;\n"]);return hr=function(){return e},e}function gr(){var e=Object(y.a)(["\n  position: absolute;\n  top: 3px;\n  right: 0;\n  border: 0;\n  padding: 0;\n  margin: 5px 7px;\n  color: #ffa600;\n"]);return gr=function(){return e},e}function vr(){var e=Object(y.a)(["\n  margin: 0;\n  padding: 0;\n  background: none;\n  outline: none;\n  border: none;\n  position: absolute;\n  right: 6px;\n  top: 54%;\n  transform: translateY(-50%);\n  &:active {\n    outline: none;\n  }\n"]);return vr=function(){return e},e}function xr(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 4px;\n  & > .moment {\n    color: #89969f;\n    font-family: Raleway;\n    font-size: 11px;\n    font-weight: bold;\n    line-height: 14px;\n  }\n"]);return xr=function(){return e},e}function wr(){var e=Object(y.a)(["\n  color: #374c5d;\n  font-family: Raleway;\n  font-size: 13px;\n  line-height: 14px;\n  & strong {\n    font-weight: 700;\n  }\n"]);return wr=function(){return e},e}function Or(){var e=Object(y.a)(["\n  padding: 0 14px;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return Or=function(){return e},e}function yr(){var e=Object(y.a)(["\n  border-bottom: 2px solid rgb(227, 231, 237);\n  cursor: pointer;\n  position: relative;\n  display: flex;\n  padding: 12px;\n  align-items: center;\n  background: ",";\n  position: relative;\n  min-height: 60px;\n\n  & > img {\n    width: 40px;\n    height: 40px;\n  }\n\n  .delete {\n    display: none;\n  }\n  &:hover {\n    .delete {\n      display: block;\n    }\n  }\n"]);return yr=function(){return e},e}var jr=j.default.li(yr(),(function(e){return e.read?"#FFF":"rgb(245, 249, 254)"})),Er=j.default.div(Or()),kr=j.default.div(wr()),Cr=j.default.div(xr()),Sr=j.default.button(vr()),Nr=j.default.button(gr()),Pr=j.default.img(hr()),Rr=function(e){var n=e.notification,t=e.markAsRead,r=e.children,a=e.deleteNotification,o=n.read,i=!!o&&JSON.parse(o),c=n.actor,u=Object(l.useCallback)(Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.target){e.next=4;break}return e.next=3,t(n.path,n.id);case 3:window.location=n.target;case 4:case"end":return e.stop()}}),e)}))),[n]),s=!i,p=n&&n.actor&&n.actor.image?n.actor.image:"img/icon/empty-profile.svg";return d.a.createElement(jr,{read:i},d.a.createElement("a",{href:n.actor&&n.actor.webId},d.a.createElement(Pr,{src:p,alt:"Creator",onError:function(e){e.target.onerror=null,e.target.src="img/icon/empty-profile.svg"}})),d.a.createElement(Er,null,d.a.createElement(kr,{onClick:u},d.a.createElement("strong",null,c&&c.name)," ",n.summary),d.a.createElement(Cr,null,d.a.createElement("span",{className:"moment"},br()(n.published).fromNow()),r)),d.a.createElement(Sr,{type:"button",className:"delete",onClick:function(){return t(n.path,n.id,s?"true":"false")}},d.a.createElement(He.a,{icon:i?"eye-slash":"eye"})),d.a.createElement(Nr,{type:"button",className:"delete",onClick:function(){return a(n.path)}},d.a.createElement(He.a,{icon:"times-circle"})))};function Ir(){var e=Object(y.a)(["\n  display: inherit;\n  margin: 20px;\n  text-align: center;\n"]);return Ir=function(){return e},e}function _r(){var e=Object(y.a)(["\n  overflow-y: auto;\n  max-height: 350px;\n  flex: 1 1 auto;\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  padding: 0;\n  margin: 0;\n  height: 100%;\n"]);return _r=function(){return e},e}var Ar=j.default.ul(_r()),Dr=j.default.span(Ir()),zr=function(e){var n=e.notifications,t=e.markAsRead,r=e.deleteNotification;return d.a.createElement(l.Fragment,null,n&&n.length>0?d.a.createElement(Ar,null,n.map((function(e){return d.a.createElement(Rr,{key:e.id,notification:e,markAsRead:t,deleteNotification:r})}))):d.a.createElement(Dr,{className:"empty-list"},"No notifications to show"))};function Lr(){var e=Object(y.a)(["\n  display: inline-block;\n  margin: 0 3px;\n  button {\n    padding: 10px;\n    border-bottom: none;\n    border-radius: 0;\n\n    &.active {\n      border-color: #52b5dd;\n      background: #52b5dd;\n\n      &:hover {\n        color: white;\n      }\n    }\n\n    &:hover {\n      border-color: #52b5dd;\n      color: #52b5dd;\n    }\n  }\n"]);return Lr=function(){return e},e}function Tr(){var e=Object(y.a)(["\n  width: 100%;\n  margin: 0 auto;\n  padding: 0 auto;\n  border-bottom: 1px solid #cfdce6;\n"]);return Tr=function(){return e},e}var Fr=j.default.ul(Tr()),Mr=j.default.li(Lr()),Gr=function(e){var n=e.list,t=e.click,r=e.activeName,a=Object(l.useState)(null),o=Object(jn.a)(a,2),i=o[0],c=o[1],u=Object(l.useCallback)(function(){var e=Object(T.a)(I.a.mark((function e(n){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(r=i===n?"":n),e.next=4,t(r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[n,i]);return Object(l.useEffect)((function(){c(r)}),[]),d.a.createElement(Fr,null,n&&n.map((function(e){return d.a.createElement(Mr,{key:e.path},d.a.createElement("button",{onClick:function(){return u(e.inboxName)},type:"button",className:i===e.inboxName?"active":""},e.inboxName))})))};function Hr(){var e=Object(y.a)(["\n  padding: 16px;\n  margin: 0;\n  text-transform: uppercase;\n  color: #52b5dd;\n  font-family: Raleway;\n  font-size: 14px;\n  letter-spacing: 1.2px;\n  line-height: 14px;\n  flex: 0 0 50px;\n  box-sizing: border-box;\n"]);return Hr=function(){return e},e}function Ur(){var e=Object(y.a)(["\n    right: 0;\n    min-width: 351px;\n  "]);return Ur=function(){return e},e}function Wr(){var e=Object(y.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  min-width: 340px;\n  min-height: 320px;\n  background: #ffffff;\n  box-sizing: border-box;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.3);\n  top: calc(100% + 2px);\n  right: -210px;\n  z-index: 99999;\n  border: solid 1px #cfdce6;\n\n  ","\n"]);return Wr=function(){return e},e}var Br=j.default.div(Wr(),D.tablet(Ur())),Vr=j.default.h2(Hr()),Jr=function(e){var n=e.notifications,t=e.markAsRead,r=e.deleteNotification,a=e.filterNotification,o=e.tabs,i=e.isLoading;return d.a.createElement(Br,null,d.a.createElement(Vr,null,"Notifications"),i?d.a.createElement(bn,{absolute:!0}):d.a.createElement(d.a.Fragment,null,d.a.createElement(Gr,{list:o,click:a}),d.a.createElement(zr,{notifications:n,markAsRead:t,deleteNotification:r})))},Yr=t(631);function qr(){var e=Object(y.a)(["\n    position: relative;\n    width: 60px;\n    height: 100%;\n    left: inherit;\n    top: inherit;\n  "]);return qr=function(){return e},e}function Xr(){var e=Object(y.a)(["\n  position: fixed;\n  z-index: 3;\n  top: 17px;\n  left: 47px;\n\n  & .notifications-enter {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n  & .notifications-enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: opacity 300ms, transform 300ms;\n  }\n  & .notifications-exit {\n    opacity: 1;\n  }\n  & .notifications-exit-active {\n    opacity: 0;\n    transform: scale(0.8);\n    transition: opacity 300ms, transform 300ms;\n  }\n  ","\n"]);return Xr=function(){return e},e}var Kr,$r=j.default.div(Xr(),D.desktopSm(qr())),Zr=function(e,n){Object(l.useEffect)((function(){var t=function(t){e.current&&!e.current.contains(t.target)&&n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e,n])},Qr=function(e){var n=e.webId,t=e.inbox,r=Object(l.useState)(!1),a=Object(jn.a)(r,2),o=a[0],i=a[1],c=Object(l.useState)(!1),u=Object(jn.a)(c,2),s=u[0],p=u[1],f=Object(l.useRef)(),m=Object(ae.useNotification)(n),b=m.notification,h=m.markAsReadNotification,g=m.deleteNotification,v=m.fetchNotification,x=m.filterNotification,w=Object(ae.useLiveUpdate)().timestamp,O=b.notifications,y=b.unread,j=b.notify,E=w&&w.toString();Zr(f,(function(){return i(!1)}));var k=function(){var e=Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,v(t);case 4:p(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),p(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){n&&j&&k()}),[t,j]),Object(l.useEffect)((function(){E&&Kr!==E&&(k(),Kr=E)}),[w]),d.a.createElement($r,{ref:f},d.a.createElement(fr,{unread:y||0,onClick:function(){return i(!o)},active:o}),d.a.createElement(Yr.a,{in:o,timeout:300,classNames:"notifications",unmountOnExit:!0,mountOnEnter:!0},d.a.createElement(Jr,{notifications:O,markAsRead:h,deleteNotification:g,tabs:t,filterNotification:x,isLoading:s})))},ea=d.a.memo((function(e){var n=e.webId,t=e.inbox;d.a.useEffect((function(){Vt.updateSharedFolder(n)}),[]);var r=t.map((function(e){return e.path}));return r?d.a.createElement(ae.LiveUpdate,{subscribe:r},d.a.createElement(Qr,{webId:n,inbox:t})):null}));function na(){var e=Object(y.a)(["\n  margin-top: 20px;\n"]);return na=function(){return e},e}var ta=j.default.span(na());Object(l.memo)((function(e){var n=e.inProgress,t=e.result,r=e.setResult,a=e.setSavingProcess,o=Object(l.useState)(null),i=Object(jn.a)(o,2),c=i[0],u=i[1];return Object(l.useEffect)((function(){return function(){clearTimeout(c)}}),[]),Object(l.useEffect)((function(){t&&(c&&clearTimeout(c),"success"===t.toLowerCase()&&u(setTimeout((function(){r(null),a(!1)}),2e3)))}),[t]),d.a.createElement(ta,null,n&&d.a.createElement("div",null,d.a.createElement(He.a,{icon:"spinner",spin:!0})),t&&!n&&d.a.createElement("div",null,"success"===t.toLowerCase()&&d.a.createElement(He.a,{icon:"check-circle"}),"error"===t.toLowerCase()&&d.a.createElement(He.a,{icon:"exclamation-triangle"})))}));function ra(){var e=Object(y.a)(["\n    display: grid;\n"]);return ra=function(){return e},e}function aa(){var e=Object(y.a)(["\n    background: none;\n    margin: 0;\n    padding: 0 5px;\n    cursor: pointer;\n    user-select: none;\n    overflow: hidden;\n    top: 10px;\n    right: 10px;\n    font-size: 1.75em;\n    z-index: 10000;\n    border: none;\n    color: #666;\n\n    &:active,\n    &:hover {\n        background: none;\n        color: black;\n        border: none;\n    }\n"]);return aa=function(){return e},e}function oa(){var e=Object(y.a)(["\n    border-radius: 4px 0 0 0;\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n\n    flex-basis: ",";\n"]);return oa=function(){return e},e}function ia(){var e=Object(y.a)(["\n    display: ",";\n    flex-direction: column;\n    box-shadow: 0 1px 5px rgba(0,0,0,0.2);\n    z-index: 5;\n    width: 100%;\n    flex-basis: 30%;\n    border-radius: 0 0 4px 0;\n"]);return ia=function(){return e},e}function ca(){var e=Object(y.a)(["\n    background: none rgb(255, 255, 255);\n    border: 0px;\n    margin: 0 10px;\n    padding: 0px;\n    position: absolute;\n    cursor: pointer;\n    user-select: none;\n    border-radius: 2px;\n    height: 40px;\n    width: 40px;\n    box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px;\n    overflow: hidden;\n    top: 60px;\n    right: 0px;\n    font-size: 1.75em;\n    z-index: 10000;\n"]);return ca=function(){return e},e}function ua(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n\n    flex-basis: ",";\n"]);return ua=function(){return e},e}function sa(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: row;\n\n    width: 100%;\n    height: 100%;\n"]);return sa=function(){return e},e}function la(){var e=Object(y.a)(["\n    border-radius: 4px;\n    margin: auto;\n    padding: 0px;\n    border: none;\n\n    transition: all .25s ease-in-out;\n\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n\n    background-color: white;\n\n    z-index: 100001;\n    position: relative;\n\n    width: 100%;\n    height: 100%;\n"]);return la=function(){return e},e}var da=j.default.div(la()),pa=j.default.div(sa()),fa=j.default.div(ua(),(function(e){return e.collapsed?"100%":"70%"})),ma=j.default.button(ca()),ba=j.default.div(ia(),(function(e){return e.collapsed?"none":"flex"})),ha=j.default.div(oa(),(function(e){return e.downPanelCollapsed?"100%":"60%"})),ga=j.default.button(aa());j.default.div(ra());function va(){var e=Object(y.a)(["\n    margin: 5px auto 0;\n    width: calc(100% - 28px - 10px);\n\n    span {\n        font-size: .8em;\n\n        &.covid-label {\n            font-weight: bold;\n            font-style: italic;\n        }\n\n        &.covid-value {\n            font-weight: light;\n        }\n\n        &.covid-loading {\n            font-style: italic;\n        }\n    }\n"]);return va=function(){return e},e}function xa(){var e=Object(y.a)(["\n    padding: .25em .25em 0;\n\n    background-color: white;\n    height: 100%;\n    transition-duration: 200ms;\n\n    border-radius: 0 0 4px 0;\n"]);return xa=function(){return e},e}function wa(){var e=Object(y.a)(["\n    height: ",";\n    margin-bottom: .25em;\n    margin-left: .75em;\n    \n    display: flex;\n    flex-direction: row;\n\n    transition-duration: 200ms;\n\n    cursor: pointer;\n\n    img {\n        width: 20px;\n    }\n\n    .marker {\n        margin: auto 4px;\n    }\n\n    .content {\n        padding: 4px;\n        height: 100%;\n        width: calc(100% - 28px);\n\n        .header {\n            height: ",";\n            display: flex;\n\n            .name {\n                font-style: ",";\n                font-size: ",";\n                font-weight: 400;\n                color: ",";\n                margin: auto;\n                width: calc(100% - 28px);\n            }\n        }\n\n        .description {\n            font-style: italic;\n            font-size: ",";\n            color: ",";\n            margin: 3px auto auto auto;\n            width: calc(100% - 28px);\n        }\n\n        .covid-title {\n            margin: 10px auto 5px auto;\n            width: calc(100% - 28px);\n            align-self: center;\n            font-size: .85em;\n            font-style: italic;\n            font-weight: bold;\n        }\n    }\n"]);return wa=function(){return e},e}var Oa=j.default.div(wa(),(function(e){return e.selected?"auto":"3em"}),(function(e){return e.selected?"calc(3em - 10px)":"100%"}),(function(e){return e.name?"inherit":"italic"}),(function(e){return e.name?"inherit":"1.1em"}),(function(e){return e.name?"#616161":"#a3a3a3"}),(function(e){return e.description?".8em":".7em"}),(function(e){return e.description?"#616161":"#a3a3a3"})),ya=j.default.div(xa()),ja=j.default.div(va()),Ea=function(e){var n=e.point,t=e.index,r=Object(b.b)().t,a="string"===typeof t,o=a?void 0:n.color.hexCode,c=a?r("route.".concat(t)):n.name,u=i.getMarkerIcon(t),s=Object(l.useState)(null),p=Object(jn.a)(s,2),f=p[0],m=p[1],h=Object(l.useState)(!1),g=Object(jn.a)(h,2),v=g[0],x=g[1];return v||(x(!0),Zt.getCovidByCoordinates(n.lat,n.lng).then(m)),d.a.createElement(Oi.Consumer,null,(function(e){return d.a.createElement(Oa,{color:o,selected:e.selectedPoint===t,name:c,description:n.description,onClick:function(){return e.onPointSelect(n,t)}},a?d.a.createElement("img",{src:u?u.url:void 0,alt:t}):d.a.createElement("svg",{className:"marker",height:"20",width:"20"},d.a.createElement("circle",{cx:"10",cy:"10",r:"8",stroke:n.color.hexCode,strokeWidth:"2",fill:"none"}),e.selectedPoint===t&&d.a.createElement("circle",{cx:"10",cy:"10",r:"8",stroke:n.color.hexCode,strokeWidth:"2",fill:n.color.hexCode})),d.a.createElement("div",{className:"content"},d.a.createElement("div",{className:"header"},d.a.createElement("p",{className:"name",name:c||r("route.no_name")},c||r("route.no_name"))),e.selectedPoint===t&&d.a.createElement("div",null,!a&&d.a.createElement("p",{className:"description",name:n.description?n.description:r("route.no_description")},n.description?n.description:r("route.no_description")),d.a.createElement("p",{className:"covid-title"},r("route.covid.title")),d.a.createElement(ja,null,f?"Global"===f.location?d.a.createElement("span",{className:"description"},r("route.covid.global")):d.a.createElement("div",null,d.a.createElement("span",{className:"covid-label"},r("route.covid.confirmed"),": "),d.a.createElement("span",{className:"covid-value"},f.confirmed),d.a.createElement("br",null),d.a.createElement("span",{className:"covid-label"},r("route.covid.deaths"),": "),d.a.createElement("span",{className:"covid-value"},f.deaths),d.a.createElement("br",null),d.a.createElement("span",{className:"covid-label"},r("route.covid.location"),": "),d.a.createElement("span",{className:"covid-value"},f.location),d.a.createElement("br",null),d.a.createElement("span",{className:"covid-label"},r("route.covid.recovered"),": "),d.a.createElement("span",{className:"covid-value"},f.recovered)):d.a.createElement("span",{className:"covid-loading"},r("route.covid.loading"))))))}))},ka=function(e){var n=e.trackpoints,t=e.waypoints;return d.a.createElement(ya,null,n&&n.length&&d.a.createElement(Ea,{point:n[0],index:"start"}),t.map((function(e,n){return d.a.createElement(Ea,Object.assign({key:n},{point:e,index:n}))})),n.length>1&&d.a.createElement(Ea,{point:n[n.length-1],index:"finish"}))},Ca=t(17),Sa=function(e){var n=e.point,t=e.index,r=i.getMarkerIcon(t);return d.a.createElement(Oi.Consumer,null,(function(e){return d.a.createElement(Ca.Marker,{icon:r,position:n,onClick:function(){return e.onPointSelect(n,t)}})}))},Na=Object(Ca.withScriptjs)(Object(Ca.withGoogleMap)((function(e){var n=e.route,t=e.mapRef,r=e.onDistanceLoad,a=Object(l.useState)(),o=Object(jn.a)(a,2),c=o[0],u=o[1];i.getLocation(u);var s=n.waypoints,p=n.points,f=p&&p[0]?p[0]:{lat:0,lng:0},m=d.a.useRef();return d.a.createElement(Ca.GoogleMap,{onTilesLoaded:function(){return r(i.computeDistance(m.current))},ref:t,defaultZoom:12,defaultCenter:f,options:{streetViewControl:!1,zoomControl:!1,mapTypeControl:!1},mapTypeId:"terrain"},d.a.createElement(Ca.Polyline,{ref:m,options:{strokeColor:n.color.hexCode,strokeOpacity:.7,strokeWeight:2},path:p}),c&&d.a.createElement(Ca.Marker,{icon:i.getMarkerIcon("location"),position:c}),s.map((function(e,n){return d.a.createElement(Sa,Object.assign({key:n},{point:e,index:n}))})),p&&p.length&&d.a.createElement("div",null,d.a.createElement(Sa,{point:p[0],index:"start"}),p.length>1&&d.a.createElement(Sa,{point:p[p.length-1],index:"finish"})))})));function Pa(){var e=Object(y.a)(["\n    flex-direction: column;\n\n    width: 100%;\n\n    border-radius: 0 0 4px 0;\n\n    display: ",";\n    height: calc(100% - 2.25em);\n"]);return Pa=function(){return e},e}function Ra(){var e=Object(y.a)(["\n    background: none;\n    transition-duration: none;\n    border: none;\n    \n    border-bottom: ",";\n    background: ",";\n    color: ",";\n\n    border-radius: 0;\n\n    &:hover {\n        background: #f1e5ff;\n        outline: none;\n        color: #8a25fc;\n        border-color: #8a25fc;\n    }\n\n    &:active {\n        background: #e2c8ff;\n        outline: none;\n        color: #8a25fc\n        border-color: #8a25fc;\n    }\n"]);return Ra=function(){return e},e}function Ia(){var e=Object(y.a)(["\n    height: 2.25em;\n\n    width: 100%;\n    text-align: center;\n\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n    z-index: 2;\n\n    display: grid;\n    grid-template-areas: 'tab1 tab2';\n"]);return Ia=function(){return e},e}function _a(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n    ","\n\n    border-radius: 0 0 4px 0;\n\n    max-height: 40%;\n"]);return _a=function(){return e},e}var Aa=j.default.div(_a(),(function(e){return e.downPanelCollapsed?"":"flex-basis: 40%;"})),Da=j.default.div(Ia()),za=j.default.button(Ra(),(function(e){return e.selected?"4px solid #8a25fc":"none"}),(function(e){return e.selected?"#e2c8ff":"none"}),(function(e){return e.selected?"#8a25fc":"#666666"})),La=j.default.div(Pa(),(function(e){return e.downPanelCollapsed||e.hidden?"none":"flex"}));function Ta(){var e=Object(y.a)(["\n    padding: 1em;\n\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n\n    background-color: white;\n    border-radius: 4px;\n\n    z-index: 100001;\n\n    max-height: 60%;\n    min-width: 20%;\n\n    overflow: auto;\n    scrollbar-width: none;\n\n    p {\n        margin-top: 0;\n    }\n"]);return Ta=function(){return e},e}function Fa(){var e=Object(y.a)(["\n    background: none;\n    \n    border-radius: 0;\n    vertical-align: middle;\n\n    width: 3.5em;\n\n    border: none;\n\n    &:hover {\n        background: #f5f5f5;\n    }\n\n    &:active {\n        background: #ececec;\n    }\n\n    img {\n        height: 1.7em;\n        width: 1.7em;\n    }\n"]);return Fa=function(){return e},e}function Ma(){var e=Object(y.a)(["\n    display: grid;\n    \n    border-left: solid 1px rgba(8,53,117,0.1);\n"]);return Ma=function(){return e},e}function Ga(){var e=Object(y.a)(["\n    resize: none;\n    border: none;\n    padding: .5em 0 .5em .5em;\n    font-size: .8em;\n    border-radius: 0 0 0 4px;\n\n    &:focus::-webkit-input-placeholder {\n        color: transparent;\n    }\n    \n    &:focus:-moz-placeholder {\n        color: transparent;\n    }\n"]);return Ga=function(){return e},e}function Ha(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: row;\n\n    box-shadow: 0px 1px 5px rgba(0, 0, 0, 0.2);\n    z-index: 2;\n    border-radius: 0 0 0 4px;\n    flex-basis: 25%;\n"]);return Ha=function(){return e},e}function Ua(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: column;\n\n    z-index: 1;\n\n    overflow-y: auto;\n\n    background-color: white;\n\n    border-radius: 0 0 0 4px;\n\n    .no-data {\n        font-style: italic;\n        color: #a3a3a3;\n        margin: auto;\n    }\n\n    h1 {\n        font-size: 1.25em;\n        margin: 0;\n    }\n\n    height: 100%;\n"]);return Ua=function(){return e},e}function Wa(){var e=Object(y.a)(["\n    overflow-y: auto;\n\n    ","\n    flex-direction: column;\n\n    border-radius: 0 0 4px 0;\n\n    width: 100%;\n\n    flex-basis: 75%;\n\n    background-color: #f7f7f7;\n    padding: 0 0 .4em 0;\n\n    span.no-comments {\n        user-select: none;\n        margin: auto;\n        font-style: italic;\n    }\n"]);return Wa=function(){return e},e}var Ba=j.default.div(Wa(),(function(e){return e.noComments?"display: flex;":""})),Va=j.default.div(Ua()),Ja=j.default.div(Ha()),Ya=j.default.textarea(Ga()),qa=j.default.div(Ma()),Xa=j.default.button(Fa()),Ka=j.default.div(Ta());var $a=function(e){return function(n){var t=n.isLoading,r=Object(xn.a)(n,["isLoading"]);return t?d.a.createElement(bn,null):d.a.createElement(e,r)}};function Za(){var e=Object(y.a)(["\n    padding: .25em .25em 0;\n\n    background-color: white;\n    height: 100%;\n    transition-duration: 200ms;\n\n    border-radius: 0 0 4px 0;\n"]);return Za=function(){return e},e}function Qa(){var e=Object(y.a)(["\n    height: ",";\n    margin-bottom: .25em;\n    \n    display: flex;\n    flex-direction: row;\n\n    transition-duration: 200ms;\n\n    cursor: pointer;\n\n    .marker {\n        margin: auto 4px;\n    }\n\n    .content {\n        padding: 4px;\n        height: 100%;\n        width: calc(100% - 28px);\n\n        .header {\n            height: ",";\n            display: flex;\n\n            .name {\n                font-style: ",";\n                font-size: ",";\n                color: ",";\n                margin: auto;\n                width: calc(100% - 28px);\n            }\n        }\n\n        .description {\n            font-style: italic;\n            font-size: ",";\n            color: ",";\n            margin:  3px auto auto auto;\n            width: calc(100% - 28px);\n        }\n    }\n"]);return Qa=function(){return e},e}var eo=j.default.div(Qa(),(function(e){return e.selected?"auto":"3em"}),(function(e){return e.selected?"calc(3em - 10px)":"100%"}),(function(e){return e.name?"inherit":"italic"}),(function(e){return e.name?"inherit":".9em"}),(function(e){return e.name?"#616161":"#a3a3a3"}),(function(e){return e.description?".8em":".7em"}),(function(e){return e.description?"#616161":"#a3a3a3"})),no=j.default.div(Za()),to=function(e){var n=e.point,t=e.index,r=e.onPointSelectComment,a=e.selectedPointComment,o=Object(b.b)().t;return d.a.createElement(Oi.Consumer,null,(function(e){return d.a.createElement(eo,{color:n.color.hexCode,selected:e.selectedPoint===t,name:n.name,description:n.description,onClick:function(){return r(t)}},d.a.createElement("svg",{className:"marker",height:"20",width:"20"},d.a.createElement("circle",{cx:"10",cy:"10",r:"8",stroke:n.color.hexCode,strokeWidth:"2",fill:"none"}),a===t&&d.a.createElement("circle",{cx:"10",cy:"10",r:"8",stroke:n.color.hexCode,strokeWidth:"2",fill:n.color.hexCode})),d.a.createElement("div",{className:"content"},d.a.createElement("div",{className:"header"},d.a.createElement("p",{className:"name",id:"point-"+t},n.name?n.name:o("route.no_name")))))}))},ro=function(e){var n=e.points,t=e.onPointSelectComment,r=e.selectedPointComment;return d.a.createElement(no,null,n.map((function(e,n){return d.a.createElement(to,Object.assign({key:n},{point:e,index:n,onPointSelectComment:t,selectedPointComment:r}))})))};function ao(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-left: .5em;\n    width: 100%;\n"]);return ao=function(){return e},e}function oo(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: row;\n\n    padding: .4em;\n    margin: .3em .3em 0 .3em;\n    width: calc(100% - .3em * 2);\n    min-height: 3em;\n    height: ",";\n\n    background-color: white;\n\n    border-radius: 5px;\n\n    box-shadow: "," rgba(0,0,0,0.2);\n\n    &:hover {\n        ","\n    }\n\n    img {\n        margin: .1em;\n        border-radius: 50%;\n        height: 2em;\n        width: 2em;\n        align-self: center;\n    }\n\n    span {\n        &.user-title {\n            font-size: .9em;\n            color: gray;\n            width: 100%;\n            overflow-wrap: anywhere;\n        }\n\n        &.content {\n            margin-top: .4em;\n            font-size: .8em;\n            color: gray;\n            width: 100%;\n            overflow-wrap: anywhere;\n            font-style: italic;\n            overflow-y: hidden;\n            white-space: break-spaces;\n        }\n\n        &.waypoint-name {\n            margin-top: .1em;\n            font-weight: bold;\n            padding: .3em;\n            background-color: ","66;\n            border-radius: 4px;\n            font-size: .7em;\n            overflow-wrap: anywhere;\n        }\n    }\n\n    transition-duration: 200ms;\n\n    cursor: pointer;\n"]);return oo=function(){return e},e}var io=j.default.div(oo(),(function(e){return e.selected?"auto":"3em"}),(function(e){return e.selected?"0px 1.5px 2.5px":"0px .5px .5px"}),(function(e){return e.selected?"":"box-shadow: 0px 1px 1.5px rgba(0,0,0,0.2);"}),(function(e){return e.color})),co=j.default.div(ao()),uo=function(e){var n=e.route,t=e.comment,r=d.a.useState(!1),a=Object(jn.a)(r,2),o=a[0],i=a[1],c=d.a.useState({name:t.author}),u=Object(jn.a)(c,2),s=u[0],l=u[1];Xt.getProfile(t.author).then((function(e){return l(e)}));var p=t.waypoint>=0&&t.waypoint<n.waypoints.length?n.waypoints[t.waypoint]:null,f=p?p.color.hexCode:null;return d.a.createElement(io,{color:f,selected:o,onClick:function(){return i(!o)}},d.a.createElement("img",{src:s.image,alt:"profile"}),d.a.createElement(co,null,d.a.createElement("span",{className:"user-title"},s.name),p&&d.a.createElement("span",{className:"waypoint-name"},p.name),d.a.createElement("span",{className:"content"},t.text)))},so=$a((function(e){var n=e.webId,t=e.route,r=e.comments,a=e.setComments,o=d.a.useState(""),i=Object(jn.a)(o,2),c=i[0],u=i[1],s=d.a.useState(null),l=Object(jn.a)(s,2),p=l[0],f=l[1],m=Object(b.b)().t,h=function(){var e=Object(T.a)(I.a.mark((function e(){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={text:c,date:Date.now(),author:n,waypoint:p},u(""),e.next=4,Ut.postComment(r,t);case 4:Ut.getComments(t).then((function(e){a(e)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=me()("root"),v=Object(jn.a)(g,2),x=v[0],w=v[1],O=t.waypoints,y="img/icon/marker/",j=t.waypoints.length>0;y+=j?null===p?"not-selected.svg":p%ge.length+".svg":"there-are-no-waypoints.svg";var E=!r||!r.length;return d.a.createElement(Va,null,d.a.createElement(Ba,{noComments:E},E?d.a.createElement("span",{className:"no-comments"},m("route.no_comments")):r.map((function(e,n){return d.a.createElement(uo,Object.assign({key:n,id:"comment-"+n,className:"comment"},{route:t,comment:e}))}))),d.a.createElement(Ja,null,d.a.createElement(Ya,{value:c,onChange:function(e){u(e.target.value)},placeholder:m("route.comment_placeholder")}),d.a.createElement(qa,null,d.a.createElement(Xa,{disabled:!j,onClick:w,title:m(j?"route.select_point":"route.there_are_no_points")},d.a.createElement("img",{src:y,alt:"Choose point"})),d.a.createElement(Xa,{value:c,onClick:h,title:"Comentar"},d.a.createElement("img",{src:"img/icon/send.svg",alt:"Send message"})),d.a.createElement(x,null,d.a.createElement(Ka,null,d.a.createElement("p",null,m("route.select_point")),d.a.createElement(ro,{points:O,onPointSelectComment:function(e){f(p===e?null:e)},selectedPointComment:p}))))))}));function lo(){var e=Object(y.a)(["\n    background: white;\n\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n    padding: 1em 1em 0;\n    border: none;\n\n    border-radius: 4px;\n\n    z-index: 100001;\n\n    user-select: none;\n\n    * {\n        outline: none;\n    }\n"]);return lo=function(){return e},e}function po(){var e=Object(y.a)(["\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n\n    border-radius: 4px;\n\n    z-index: 100001;\n"]);return po=function(){return e},e}function fo(){var e=Object(y.a)(["\n    border-radius: 12px;\n    max-width: 100%;\n    max-height: 100%;\n    display: block;\n"]);return fo=function(){return e},e}function mo(){var e=Object(y.a)(["\n    padding: 1em;\n\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n\n    background-color: white;\n    border-radius: 12px;\n\n    text-align: center;\n\n    z-index: 100001;\n"]);return mo=function(){return e},e}function bo(){var e=Object(y.a)(["\n    font-size: 100%;\n"]);return bo=function(){return e},e}function ho(){var e=Object(y.a)(["\n    width: 100%; \n    border-radius: .4em;\n    display: block;\n    border: none;\n"]);return ho=function(){return e},e}function go(){var e=Object(y.a)(['\n    padding: 0;\n    border: none;\n    background: none;\n    margin: 0;\n\n    p {\n        margin: 0;\n        font-size: 2em;\n    }\n\n    &:hover,\n    &:active{\n        border: none;\n        background: white\n    }\n\n    input[type="file"] {\n        display: none;\n    }\n\n    .file-upload-label {\n        align-self: center;\n\n        display: inline-block;\n        \n        border-radius: 50%;\n        padding: .0625em;\n        width: 1.25em;\n        height: 1.25em;\n        white-space: nowrap;\n        user-select: none;\n        cursor: pointer;\n\n        user-select: none;\n        border: none;\n        color: white;\n        font-size: .6em;\n        background-color: #7c4dff;\n        box-shadow: 0px 0px 3px rgba(0,0,0,.5);\n\n        &:hover {\n            color: white;\n            background-color: #9841fc;\n            border: none;\n        }\n        \n        &:active {\n            color: white;\n            background-color: #7c4dff;\n            border: none;\n        }\n    }\n']);return go=function(){return e},e}function vo(){var e=Object(y.a)(["\n    padding: .6em;\n    display: ",";\n    ","\n    \n    grid-template-columns: repeat( auto-fit, minmax(33.33%, 1fr) );\n\n    grid-gap: .6em;\n    align-content: center;\n\n    border-radius: 0 0 4px 0;\n\n    width: 100%;\n\n    .no-files {\n        user-select: none;\n        margin: auto;\n        font-style: italic;\n    }\n"]);return vo=function(){return e},e}function xo(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: column;\n\n    z-index: 1;\n\n    overflow-y: auto;\n\n    background-color: white;\n\n    border-radius: 0 0 0 4px;\n\n    .no-data {\n        font-style: italic;\n        color: #a3a3a3;\n        margin: auto;\n    }\n\n    h1 {\n        font-size: 1.25em;\n        margin: 0;\n    }\n\n    height: 100%;\n"]);return xo=function(){return e},e}var wo=j.default.div(xo()),Oo=j.default.div(vo(),(function(e){return e.noMedia?"flex":"grid"}),(function(e){return e.noMedia?"height: 100%; background: #f7f7f7;":""})),yo=j.default.button(go()),jo=j.default.img(ho()),Eo=j.default.p(bo()),ko=j.default.div(mo()),Co=j.default.img(fo()),So=j.default.div(po()),No=j.default.div(lo()),Po=function(e){var n=e.files,t=e.onUpload,r=e.onMediaDelete,a=e.editable,o=Object(b.b)().t,i=me()("route-map"),c=Object(jn.a)(i,3),u=c[0],s=c[1],l=c[2],p=me()("route-map"),f=Object(jn.a)(p,3),m=f[0],h=f[1],g=f[2],v=d.a.useState(null),x=Object(jn.a)(v,2),w=x[0],O=x[1],y=me()("route-map"),j=Object(jn.a)(y,3),E=j[0],k=j[1],C=j[2],S=d.a.useState(null),N=Object(jn.a)(S,2),P=N[0],R=N[1],I=function(e){C(),e&&r(P),R(null)},_=function(e){R(e),k()},A=!n||!n.length;return d.a.createElement(wo,null,d.a.createElement(u,null,d.a.createElement(Ee,{onClick:g}),d.a.createElement(So,null,d.a.createElement(Co,{id:"aaa",src:w,onClick:l}))),d.a.createElement(m,null,d.a.createElement(ko,null,d.a.createElement(Ee,{onClick:g}),d.a.createElement("h2",null,o("route.file")),d.a.createElement("p",null,o("route.source")," ",w),d.a.createElement("p",null,o("route.clickToDownload")),d.a.createElement("a",{href:w,download:!0},d.a.createElement("img",{style:{height:"2em"},src:"img/icon/download.svg",alt:"download file"})))),d.a.createElement(Oo,{noMedia:A},a&&d.a.createElement(yo,{style:{fontSize:"3em",cursor:"default"}},d.a.createElement("label",{className:"file-upload-label",htmlFor:"upload-multimedia"},"+"),d.a.createElement("input",{id:"upload-multimedia",type:"file",onChange:function(e){return t(e.target.files)}})),!A&&n.map((function(e,n){var t=(e.name?e.name:e["@id"]).split("."),r=t.length>=2?t[t.length-1]:"Other";return"jpg jpeg png svg".includes(r.toLowerCase())?d.a.createElement(yo,{className:"file-container",key:n,onClick:function(){return a?_(n):(t=e["@id"],O(t),void s());var t}},d.a.createElement(jo,{id:"image-"+n,className:"image-container",src:e["@id"]})):d.a.createElement(yo,{className:"file-container",key:n,onClick:function(){return a?_(n):(t=e["@id"],O(t),void h());var t}},d.a.createElement(Eo,{id:"file-"+n,className:"link-container"},".",r))})),A&&d.a.createElement("span",{className:"no-files"},o("route.no_multimedia"))),d.a.createElement(E,null,d.a.createElement(No,{id:"delete-modal"},d.a.createElement(Tn,{onAccept:function(){return I(!0)},onDecline:I,options:{message:o("route.edit.delete_file")},parentSelector:"#delete-modal"}))))},Ro=function(e){var n=e.webId,t=e.route,r=e.downPanelCollapsed,a=e.setDownPanelCollapsed,o=d.a.useState(!0),i=Object(jn.a)(o,2),c=i[0],u=i[1],s=d.a.useState([]),l=Object(jn.a)(s,2),p=l[0],f=l[1],m=d.a.useState(!1),h=Object(jn.a)(m,2),g=h[0],v=h[1];g||(v(!0),Ut.getComments(t).then((function(e){f(e),u(!1)})));var x=Object(b.b)().t,w=d.a.useState(0),O=Object(jn.a)(w,2),y=O[0],j=O[1];return d.a.createElement(Aa,{downPanelCollapsed:r},d.a.createElement(Da,null,["route.comments","route.multimedia"].map((function(e,n){return d.a.createElement(za,{selected:y===n,key:n,onClick:function(){return e=n,void(r?(a(!1),j(e)):y===e?a(!0):j(e));var e}},x(e))}))),d.a.createElement(La,{downPanelCollapsed:r},y?d.a.createElement(Po,{files:t.media}):d.a.createElement(so,Object.assign({isLoading:c},{webId:n,route:t,comments:p,setComments:f}))))};function Io(){var e=Object(y.a)(["\n    background: white;\n\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n    padding: 1em 1em 0;\n    border: none;\n\n    border-radius: 4px;\n\n    z-index: 100001;\n\n    user-select: none;\n\n    * {\n        outline: none;\n    }\n"]);return Io=function(){return e},e}function _o(){var e=Object(y.a)(["\n    background: none;\n    border: none;\n    padding: .5em;\n    margin: 0;\n\n    img {\n        height: 1.5em;\n    }\n"]);return _o=function(){return e},e}function Ao(){var e=Object(y.a)(["\n    h1 {\n        font-size: 1.25em;\n        margin: 1;\n    }\n\n    p {\n        font-size: .9em;\n    }\n\n    background-color: white;\n    border-radius: 0 4px 0 0;\n\n    padding: 1em 0;\n    width: 100%;\n    text-align: center;\n    border-bottom: 1px solid rgba(8,53,117,0.1);\n"]);return Ao=function(){return e},e}function Do(){var e=Object(y.a)(["\n    display: ",";\n    flex-direction: column;\n    box-shadow: 0 1px 5px rgba(0,0,0,0.2);\n    z-index: 5;\n    width: 100%;\n    flex-basis: 100%;\n    border-radius: 0 0 4px 0;\n    overflow-y: auto;\n"]);return Do=function(){return e},e}var zo=j.default.div(Do(),(function(e){return e.collapsed?"none":"flex"})),Lo=j.default.div(Ao()),To=j.default.button(_o()),Fo=j.default.div(Io());function Mo(){var e=Object(y.a)(["\n    background: none rgb(255, 255, 255);\n    border: 0px;\n    margin: 0 10px;\n    padding: 0px;\n    position: absolute;\n    cursor: pointer;\n    user-select: none;\n    border-radius: 2px;\n    height: 40px;\n    width: 40px;\n    box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px;\n    overflow: hidden;\n    top: 60px;\n    right: 0px;\n    font-size: 1.75em;\n    z-index: 1000;\n"]);return Mo=function(){return e},e}function Go(){var e=Object(y.a)(["\n    @media (max-width: ",") {\n        ",";\n    }\n\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n"]);return Go=function(){return e},e}function Ho(){var e=Object(y.a)(["\n    width: 100%;\n\n    display: flex;\n    flex-direction: row;\n\n    position: absolute;\n\n    height: calc(100% - 60px);\n"]);return Ho=function(){return e},e}var Uo=j.default.section(Ho()),Wo=j.default.div(Go(),c.FULL_SCREEN_WIDTH_THRESHOLD,(function(e){return e.collapsed?"":"flex-basis: 0"})),Bo=j.default.button(Mo());function Vo(){var e=Object(y.a)(["\n    background: none;\n    margin: 0;\n    padding: 0 5px;\n    position: absolute;\n    cursor: pointer;\n    user-select: none;\n    overflow: hidden;\n    top: 10px;\n    right: 10px;\n    font-size: 1.75em;\n    z-index: 10000;\n    border: none;\n    color: #666;\n\n    &:active,\n    &:hover {\n        background: none;\n        color: black;\n        border: none;\n    }\n"]);return Vo=function(){return e},e}function Jo(){var e=Object(y.a)(["\n    padding: 1em;\n    width: 100%\n    text-align: center;\n\n    border-bottom: 1px solid rgba(8, 53, 117, 0.1);\n"]);return Jo=function(){return e},e}var Yo=j.default.div(Jo()),qo=j.default.button(Vo());function Xo(){var e=Object(y.a)(["\n    background: none;\n    transition-duration: none;\n    border: none;\n    font-size: .9em;\n    \n    border-bottom: ",";\n    background: ",";\n    color: ",";\n\n    border-radius: 0;\n\n    &:hover {\n        background: #e7faff;\n        outline: none;\n        color: #52b5dd;\n        border-color: #52b5dd;\n    }\n\n    &:active {\n        background: #c3eaf4;\n        outline: none;\n        color: #52b5dd\n        border-color: #52b5dd;\n    }\n\n    &.collapse {\n        font-size: 1.5em;\n        line-height: 0;\n        font-weight: bolder;\n        max-width: 2.5em;\n        padding: 0 .5em 0 .5em;\n    }\n"]);return Xo=function(){return e},e}function Ko(){var e=Object(y.a)(["\n    width: 100%;\n\n    display: grid;\n    grid-template-columns: auto auto;\n"]);return Ko=function(){return e},e}function $o(){var e=Object(y.a)(["\n    height: 2.8em;\n    min-height: 2.8em;\n\n    width: 100%;\n    text-align: center;\n\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n    z-index: 2;\n\n    display: flex;\n"]);return $o=function(){return e},e}function Zo(){var e=Object(y.a)(["\n    padding: .6em .6em calc(54px + 18px * 1.5) .6em;\n\n    width: 100%;\n    height: 100%;\n\n    background-color: #f7f7f7;\n\n    overflow-y: auto;\n"]);return Zo=function(){return e},e}function Qo(){var e=Object(y.a)(["\n    @media (max-width: ",") {\n        ",";\n        width: ",";\n    }\n\n    @media (min-width: ",") {\n        width: ",";\n        min-width: ",";\n        max-width: ",";\n    }\n\n    z-index: 1;\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n\n    display: flex;\n    flex-direction: column;\n"]);return Qo=function(){return e},e}var ei=j.default.div(Qo(),c.FULL_SCREEN_WIDTH_THRESHOLD,(function(e){return e.collapsed?"":"flex-basis: 100%"}),(function(e){return e.collapsed?"0":"100%"}),c.FULL_SCREEN_WIDTH_THRESHOLD,(function(e){return e.collapsed?"0":"25%"}),(function(e){return e.collapsed?"0":e.minWidth}),(function(e){return e.maxWidth})),ni=j.default.div(Zo()),ti=j.default.div($o()),ri=j.default.div(Ko()),ai=j.default.button(Xo(),(function(e){return e.selected?"4px solid #52b5dd":"none"}),(function(e){return e.selected?"#c3eaf4":"none"}),(function(e){return e.selected?"#52b5dd":"#666666"})),oi=function(e){var n=e.routes,t=e.collapsed,r=e.setCollapsed,a=Object(b.b)().t;return d.a.createElement(ei,{collapsed:t,minWidth:"18em",maxWidth:"22em"},d.a.createElement(Yo,null,a("feed.sideFeed.recentRoutes"),!t&&d.a.createElement(qo,{onClick:function(){return r(!0)}},"\u21e2")),d.a.createElement(ni,null,n.map((function(e){return d.a.createElement(ec,Object.assign({key:e.id},{route:e}))}))))};function ii(){var e=Object(y.a)(["\n    margin-left: 1em;\n\n    text-transform: uppercase;\n    font-weight: bold;\n    border: 1px solid #DAE0E6;\n\n    background: none;\n\n    color: none;\n\n    &:active {\n        background: lightgray;\n    }\n\n    &:hover {\n        border: 1px solid #DAE0E6;\n        color: white;\n        background: lightgray;\n    }\n\n    &.deshare {\n        align-self: center;\n        \n        background: red;\n        color: white;\n        border: 1px solid darkred;\n\n        &:active {\n            border: 1px solid darkred;\n            color: white;\n            background: darkred;\n        }\n    }\n"]);return ii=function(){return e},e}function ci(){var e=Object(y.a)(["\n    border-radius: 4px 4px 0 0;\n    box-shadow: 0 0px 3px rgba(8,53,117,0.3);\n    background-color: white;\n\n    width: 100%;\n\n    padding: .75em;\n    font-size: 1.75em;\n"]);return ci=function(){return e},e}function ui(){var e=Object(y.a)(["\n    background-color: #fff;\n    margin: 1em auto;\n\n    display: flex;\n    flex-direction: column;\n\n    box-shadow: 0 0px 3px rgba(8,53,117,0.3);\n    border-radius: 4px;\n    \n    width: 90%;\n    padding: 1em;\n\n    table {\n        td {\n            border-radius: 4px;\n            display: flex;\n            padding: .75em;\n            width: calc(100% - 1.5em);\n        }\n\n        tr {\n            padding: 0;\n            \n            border-radius: 4px;\n            transition-duration: 200ms;\n\n            &.selected {\n                background: rgba(124, 77, 255, 0.46);\n                color: black;\n            }\n\n            img {\n                border-radius: 50%;\n                height: 2em;\n                width: 2em;\n                max-width: 2em;\n                min-width: 2em;\n                margin-right: .5em;\n            }\n        }\n    }\n"]);return ui=function(){return e},e}function si(){var e=Object(y.a)(["\n    overflow-y: auto;\n    margin: auto 0;\n\n    span {\n        align-self: center;\n\n        &.share-title {\n            margin: 0 auto 1em;\n        }\n\n        &.no-friends {\n            font-style: italic;\n            color: gray;\n        }\n    }\n"]);return si=function(){return e},e}function li(){var e=Object(y.a)(["\n    background-image: url('img/concentric-hex-pattern_2x.png');\n    background-repeat: repeat;\n\n    border-radius: 4px;\n    margin: auto;\n    padding: 0px;\n    border: none;\n\n    transition: all .25s ease-in-out;\n\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n\n    background-color: white;\n\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n    height: 100%;\n\n    user-select: none;\n"]);return li=function(){return e},e}var di=j.default.div(li()),pi=j.default.div(si()),fi=j.default.div(ui()),mi=j.default.div(ci()),bi=j.default.button(ii()),hi=function(e){var n=e.route,t=e.webId,r=e.onRouteShare,a=e.onRouteDeshare,o=e.closeRouteSharing,i=e.sendShareNotification,c=Object(b.b)().t,u=Object(l.useState)(""),s=Object(jn.a)(u,2),p=s[0],f=s[1],m=Object(l.useState)([]),h=Object(jn.a)(m,2),g=h[0],v=h[1],x=Object(l.useState)([]),w=Object(jn.a)(x,2),O=w[0],y=w[1],j=Object(l.useState)([]),E=Object(jn.a)(j,2),k=E[0],C=E[1],S=Object(l.useState)(new Set),N=Object(jn.a)(S,2),P=N[0],R=N[1],_=Object(l.useState)(new Set),A=Object(jn.a)(_,2),D=A[0],z=A[1],F=function(){var e=Object(T.a)(I.a.mark((function e(a,o){var u;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=a&&"object"==typeof a?Object(Q.a)(a):[a],L(c("route.share_success")),!o){e.next=6;break}u.forEach(function(){var e=Object(T.a)(I.a.mark((function e(a){var o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.readGroup(a);case 2:(o=e.sent).members.forEach(function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(t,n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),r(n,o.members);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=9;break;case 6:return u.forEach((function(e){i(t,e)})),e.next=9,r(n,u);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),M=function(){var e=Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n);case 2:L(c("route.deshare_success"));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=y,e.next=3,qt.findAllGroups(t);case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=v,e.t3=Promise,e.next=9,Yt.findValidFriends(t);case 9:return e.t4=function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xt.getProfile(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),e.t5=e.sent.map(e.t4),e.next=13,e.t3.all.call(e.t3,e.t5);case 13:return e.t6=e.sent,(0,e.t2)(e.t6),e.t7=C,e.t8=Promise,e.next=19,Vt.getShareTargets(t,n.id);case 19:return e.t9=function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{name:c("route.share_everyone"),image:"img/icon/everyone.svg",webId:"everyone"});case 2:return e.next=4,Xt.getProfile(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),e.t10=e.sent.map(e.t9),e.next=23,e.t8.all.call(e.t8,e.t10);case 23:e.t11=e.sent,(0,e.t7)(e.t11);case 25:case"end":return e.stop()}}),e)})))()}),[t,n]),d.a.createElement(je,null,d.a.createElement(di,null,d.a.createElement(Ee,{onClick:o}),d.a.createElement(mi,null,"".concat(c("route.share")," ").concat(n.name)),d.a.createElement(pi,null,d.a.createElement(fi,{style:{maxHeight:"50%"}},d.a.createElement("span",{className:"share-title"},c("route.share_friend")),d.a.createElement("div",{style:{overflowY:"auto"}},d.a.createElement("table",null,d.a.createElement("tbody",null,g&&g.length?g.map((function(e){var n=e.name,t=e.image,r=e.webId;return d.a.createElement("tr",{key:r,className:P.has(r)?"selected":"",onClick:function(){return e=r,P.has(e)?P.delete(e):P.add(e),void R(new Set(Object(Q.a)(P)));var e}},d.a.createElement("td",null,d.a.createElement("img",{src:t,alt:"profile"}),d.a.createElement("span",null,n)))})):d.a.createElement("span",{className:"no-friends"},c("feed.no_friends"))))),d.a.createElement(bi,{style:{margin:"1em 0 0"},onClick:function(){return F(P)}},c("route.share"))),d.a.createElement(fi,null,d.a.createElement("span",{className:"share-title"},c("route.share_user")),d.a.createElement("div",{style:{display:"flex"}},d.a.createElement("input",{type:"text",onChange:function(e){return f(e.target.value)},placeholder:c("route.share_target")}),d.a.createElement(bi,{onClick:function(){return F(p)}},c("route.share")))),d.a.createElement(fi,{style:{maxHeight:"50%"}},d.a.createElement("span",{className:"share-title"},c("route.share_group")),d.a.createElement("div",{style:{overflowY:"auto"}},d.a.createElement("table",null,d.a.createElement("tbody",null,O&&O.length?O.map((function(e){return d.a.createElement("tr",{key:e.id,className:D.has(e.id)?"selected":"",onClick:function(){return function(e){D.has(e)?D.delete(e):D.add(e),z(new Set([e.id]))}(e)}},d.a.createElement("td",null,e.name," "))})):d.a.createElement("span",{className:"no-groups"},c("feed.no_groups"))))),d.a.createElement(bi,{style:{margin:"1em 0 0"},onClick:function(){return F(D,!0)}},c("route.share"))),d.a.createElement(fi,{style:{flexDirection:"row",placeContent:"center"}},d.a.createElement("span",null,c("route.share_to_everyone")),d.a.createElement(bi,{onClick:function(){return F(null)}},c("route.share"))),d.a.createElement(fi,{style:{maxHeight:"50%"}},d.a.createElement("span",{className:"share-title"},c("route.share_status")),d.a.createElement("div",{style:{overflowY:"auto"}},d.a.createElement("table",null,d.a.createElement("tbody",null,k&&k.length?k.map((function(e){var n=e.name,t=e.image,r=e.webId;return d.a.createElement("tr",{key:r},d.a.createElement("td",null,d.a.createElement("img",{src:t,alt:"profile"}),d.a.createElement("span",null,n)))})):d.a.createElement("span",{className:"no-friends"},c("route.not_shared")))))),d.a.createElement(fi,null,d.a.createElement(bi,{className:"deshare",onClick:M},c("route.deshare"))))))},gi=d.a.createContext(),vi="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAOk4abibzy-RPB3hyqHrln6YfCEmOnJoo","&v=3.exp&libraries=geometry,drawing,places"),xi=$a((function(e){var n=e.routes,t=e.webId,r=e.fetchRoutes,o=Object(b.b)().t,i=Object(ae.useNotification)(t).createNotification,c=d.a.useState(null),u=Object(jn.a)(c,2),l=u[0],p=u[1],f=d.a.useState(!1),m=Object(jn.a)(f,2),h=m[0],g=m[1],v=d.a.useState(!1),x=Object(jn.a)(v,2),w=x[0],O=x[1],y=me()("route-map"),j=Object(jn.a)(y,3),E=j[0],k=j[1],C=j[2],S=me()("route-map"),N=Object(jn.a)(S,3),P=N[0],R=N[1],_=N[2],A=me()("route-map"),D=Object(jn.a)(A,3),z=D[0],F=D[1],M=D[2],G=d.a.useRef();n.sort((function(e,n){return n.date-e.date})),n.forEach((function(e,n){return e.color=ge[n%ge.length]}));var H=function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(),e.next=3,Vt.deleteRoute(t,n);case 3:return e.next=5,r();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),U=function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(),F();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),W=function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0),C(),R();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=Object(T.a)(I.a.mark((function e(n,a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(),e.next=3,Vt.saveRoute(t,n,a);case 3:return e.next=5,r();case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),V=function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(),n.forEach((function(e){var n=e.waypoints.map((function(e){return{latitude:e.lat,longitude:e.lng,elevation:e.elevation,name:e.name,desc:e.desc}})),r=e.points.map((function(e){return{latitude:e.lat,longitude:e.lng,elevation:e.elevation}}));e.date=Date.now(),e.author=t,e.points=r,e.waypoints=n})),e.next=4,n.forEach(function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt.saveRoute(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:L(o("route.imported"),o("route.imported_title")),setTimeout(r,2e3);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),J=function(){return n.filter((function(e){return e.id===l}))[0]},Y=function(){var e=Object(T.a)(I.a.mark((function e(n,r){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(),Vt.publishRoute(t,n.id,r).then((function(){window.location.reload()}));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),q=function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(),e.next=3,Vt.depublishRoute(t,n.id);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),X=function(){var e=Object(T.a)(I.a.mark((function e(n,t){var r,c,u,s,d;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt.getViadeStorage(t);case 2:return r=e.sent,c="".concat(r,"settings.ttl"),u="https://creativecommons.org/licenses/by-sa/4.0/",e.next=7,a.findUserInboxes([{path:t,name:"Global"},{path:c,name:"Viade"}]);case 7:return s=e.sent,d=a.getDefaultInbox(s,"Viade","Global"),e.next=11,i({title:o("route.share_notification_title"),summary:o("route.share_notification_message"),actor:n,object:l},d.path,ae.NotificationTypes.OFFER,u);case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return d.a.createElement(Uo,{"data-testid":"map-holder",id:"route-map"},d.a.createElement(gi.Provider,{value:{selectedRoute:l,myRoutes:!0,onDeleteClick:H,onRouteView:function(){l&&k()},onRouteSelect:function(e){O(!1);var n=l===e.id?null:e.id;p(n),n&&e.points[0]&&G.current.panTo(e.points[0])},onPublishClick:U,onDownloadClick:function(e){var n=Vt.exportRoute(e),t=JSON.stringify(n);s.download(t,e.name)},onEditClick:W,collapsed:h,setCollapsed:g,shareRoute:function(){return F()},editing:w}},h&&d.a.createElement(Bo,{onClick:function(){return g(!1)}},"\u21e0"),d.a.createElement(Vi,Object.assign({routes:n},{mapRef:G,"data-testid":"map",googleMapURL:vi,loadingElement:d.a.createElement(Wo,{collapsed:h}),containerElement:d.a.createElement(Wo,{collapsed:h}),mapElement:d.a.createElement(Wo,{collapsed:h})})),d.a.createElement(oi,Object.assign({"data-testid":"side-menu"},{routes:n,collapsed:h,setCollapsed:g})),d.a.createElement(gi.Consumer,null,(function(e){return d.a.createElement(E,null,d.a.createElement(yi,{route:J(),closeRouteView:C}))}))),d.a.createElement(P,null,d.a.createElement(Wi,{webId:t,onRouteCreation:B,onImport:V,closeRouteCreation:_,routeBase:w?J():void 0})),d.a.createElement(z,null,d.a.createElement(hi,{route:J(),webId:t,onRouteShare:Y,onRouteDeshare:q,closeRouteSharing:M,sendShareNotification:X})),d.a.createElement(Gn,{onClick:function(){O(!1),R()},background:"#7c4dff",hoverBackground:"#9841fc",activeBackground:"#ad66ff",foreground:"white",text:"+"}))})),wi=function(e){var n=e.route,t=e.distance,r=Object(b.b)().t,a=me()("route-map"),o=Object(jn.a)(a,3),i=o[0],c=o[1],u=o[2],s=d.a.useState(null),l=Object(jn.a)(s,2),p=l[0],f=l[1],m=function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(),!t){e.next=4;break}return e.next=4,p.onDeleteClick(n.id);case 4:f(null);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return d.a.createElement(zo,null,d.a.createElement(Lo,null,d.a.createElement("h1",{name:n.name},n.name),t&&d.a.createElement("p",null,t),d.a.createElement("p",{name:n.description},n.description),d.a.createElement(gi.Consumer,null,(function(e){return e.myRoutes&&d.a.createElement("div",{style:{display:"flex",placeContent:"center"}},d.a.createElement(To,{onClick:function(){return f(e),void c()},name:"delete-route-button"},d.a.createElement("img",{src:"img/icon/bin.svg",alt:r("route.delete")})),d.a.createElement(To,{onClick:function(){return e.onPublishClick(n.id)},name:"publish-route-button"},d.a.createElement("img",{src:"img/icon/share.svg",alt:r("route.share")})),d.a.createElement(To,{onClick:function(){return e.onEditClick(n.id)},name:"edit-route-button"},d.a.createElement("img",{src:"img/icon/edit.svg",alt:r("route.edit.action")})),d.a.createElement(To,{onClick:function(){return e.onDownloadClick(n)}},d.a.createElement("img",{src:"img/icon/download.svg",alt:r("route.download")})))}))),d.a.createElement(ka,{trackpoints:n.points,waypoints:n.waypoints}),d.a.createElement(i,null,d.a.createElement(Fo,{id:"delete-modal"},d.a.createElement(Tn,{onAccept:function(){return m(!0)},onDecline:m,options:{message:r("route.edit.delete")},parentSelector:"#delete-modal"}))))},Oi=d.a.createContext(),yi=function(e){var n=e.route,t=e.closeRouteView,r=Object(ae.useWebId)(),a="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAOk4abibzy-RPB3hyqHrln6YfCEmOnJoo","&v=3.exp&libraries=geometry,drawing,places"),o=d.a.useState(!0),i=Object(jn.a)(o,2),c=i[0],u=i[1],s=d.a.useState(!1),l=Object(jn.a)(s,2),p=l[0],f=l[1],m=d.a.useState(null),b=Object(jn.a)(m,2),h=b[0],g=b[1],v=d.a.useState("-"),x=Object(jn.a)(v,2),w=x[0],O=x[1],y=d.a.useRef();n.waypoints.forEach((function(e,n){return e.color=ge[n%ge.length]}));var j=O;return d.a.createElement(je,null,d.a.createElement(Ee,{onClick:t}),d.a.createElement(da,null,d.a.createElement(pa,null,d.a.createElement(Oi.Provider,{value:{selectedPoint:h,setSelectedPoint:g,onPointSelect:function(e,n){var t=h===n?null:n;g(t),null!==t&&y.current.panTo(e)}}},d.a.createElement(fa,{collapsed:p},p&&d.a.createElement(ma,{onClick:function(){return f(!1)}},"\u21e0"),d.a.createElement(ha,{downPanelCollapsed:c},d.a.createElement(Na,Object.assign({route:n,onDistanceLoad:j},{mapRef:y,"data-testid":"route-map",googleMapURL:a,loadingElement:d.a.createElement(ha,null),containerElement:d.a.createElement(ha,null),mapElement:d.a.createElement(ha,null)}))),d.a.createElement(Ro,Object.assign({className:"route-elements"},{webId:r,route:n,downPanelCollapsed:c,setDownPanelCollapsed:u}))),d.a.createElement(ba,{collapsed:p},!p&&d.a.createElement(ga,{onClick:function(){return f(!0)}},"\u21e2"),d.a.createElement(wi,{route:n,distance:w}))))))};function ji(){var e=Object(y.a)(["\n    margin-top: 1em;\n    display: grid;\n    grid-template-columns: ",";\n    justify-content: space-evenly;\n"]);return ji=function(){return e},e}function Ei(){var e=Object(y.a)(['\n    display: flex;\n    flex-direction: column;\n\n    z-index: 1;\n\n    overflow-y: auto;\n\n    padding: 1em;\n\n    background-color: white;\n\n    border-radius: 0 0 0 4px;\n\n    textarea {\n        border: 1px solid #DAE0E6;\n        font-size: 0.8em;\n        padding: 0.5em 0;\n        text-indent: 0.75em;\n        border-radius: 4px;\n        resize: none;\n        min-height: 3em;\n    }\n\n    input[type="file"] {\n        display: none;\n    }\n\n    button,\n    .file-upload-label {\n        align-self: center;\n\n        display: inline-block;\n        font-size: 1em;\n        border: none;\n        border-radius: 4px;\n        padding: .5em;\n        white-space: nowrap;\n        user-select: none;\n        cursor: pointer;\n\n        color: white;\n        background-color: #7c4dff;\n        box-shadow: 0px 0px 3px rgba(0,0,0,.5);\n\n        &:hover {\n            color: white;\n            background-color: #9841fc;\n            border: none;\n        }\n        \n        &:active {\n            color: white;\n            background-color: #7c4dff;\n            border: none;\n        }\n    }\n']);return Ei=function(){return e},e}var ki=j.default.div(Ei()),Ci=j.default.div(ji(),(function(e){return e.two?"auto auto":"auto"})),Si=function(e){var n=e.onSave,t=e.onError,r=e.onImport,a=e.routeBase,o=e.distance,i=Object(b.b)().t,c=Object(l.useState)(a?a.name:""),s=Object(jn.a)(c,2),p=s[0],f=s[1],m=Object(l.useState)(a?a.description:""),h=Object(jn.a)(m,2),g=h[0],v=h[1];return d.a.createElement(ki,null,d.a.createElement("label",null,i("route.name"),":"),d.a.createElement("input",{className:"value-name",type:"text",value:p,onChange:function(e){return f(e.target.value)}}),d.a.createElement("label",null,i("route.description"),":"),d.a.createElement("textarea",{className:"value-description",value:g,onChange:function(e){return v(e.target.value)}}),d.a.createElement("label",null,i("route.distance"),": "),d.a.createElement("label",null,o),d.a.createElement(Ci,{two:!a},d.a.createElement("button",{id:"buttonToSave",className:"buttonToSave",onClick:function(){p?n({name:p,description:g}):t(i("route.edit.fillAllFields"))}},i("route.create")),!a&&d.a.createElement("label",{className:"file-upload-label",htmlFor:"upload-file"},i("route.edit.gpx"))),!a&&d.a.createElement("input",{id:"upload-file",type:"file",onChange:function(e){return function(e){var n=e[0];if(n.name.endsWith(".gpx")){var a=new FileReader;a.onload=function(){u.parse(a.result,(function(e){e&&r(e)}))},a.readAsText(n)}else t(i("routes.invalid_import"))}(e.target.files)}}))},Ni=Object(Ca.withScriptjs)(Object(Ca.withGoogleMap)((function(e){var n=e.waypoints,t=e.trackpoints,r=e.onPointAdd,a=e.onPointDragged,o=e.onTrackpointDelete,c=e.onDistanceChange,u=new window.google.maps.MarkerImage("img/icon/marker/0.svg",null,null,null,new window.google.maps.Size(32,32)),s=new window.google.maps.MarkerImage("img/icon/marker/1.svg",null,null,null,new window.google.maps.Size(32,32)),l=function(e){return{lat:e.latLng.lat(),lng:e.latLng.lng()}},p=function(){c(i.computeDistance(m.current))},f=function(e,n,t){a(e,l(n),t),p()},m=d.a.useRef(),b=t&&t.length&&t[0]?t[0]:{lat:0,lng:0};return d.a.createElement(Ca.GoogleMap,{onTilesLoaded:p,onClick:function(e){r(l(e)),p()},defaultZoom:t&&t.length?12:5,defaultCenter:b,options:{streetViewControl:!1},mapTypeId:"terrain"},d.a.createElement(Ca.Polyline,{ref:m,options:{strokeOpacity:.7,strokeWeight:2},path:t}),n.map((function(e,n){return d.a.createElement(Ca.Marker,{key:n,draggable:!0,onDragEnd:function(e){return f(n,e,!0)},icon:s,position:e})})),t.map((function(e,n){return d.a.createElement(Ca.Marker,{key:n,draggable:!0,onDragEnd:function(e){return f(n,e,!1)},position:e,icon:u,onClick:function(){return function(e){o(e),p()}(n)}})})))})));function Pi(){var e=Object(y.a)(["\n    border-radius: 50%;\n    height: 1.25em;\n    width: 1.25em;\n    margin: 12px auto;\n    padding: 0;\n    border: none;\n    color: white;\n    font-size: 1.5em;\n    background-color: #7c4dff;\n    box-shadow: 0px 0px 3px rgba(0, 0, 0, .5);\n\n    &:hover {\n        color: white;\n        background-color: #9841fc;\n    }\n    \n    &:active {\n        color: white;\n        background-color: #7c4dff;\n    }\n"]);return Pi=function(){return e},e}function Ri(){var e=Object(y.a)(["\n    padding: .25em .25em 0;\n\n    transition-duration: 200ms;\n\n    background-color: white;\n\n    border-radius: 0 0 4px 0;\n"]);return Ri=function(){return e},e}function Ii(){var e=Object(y.a)(["\n    h1 {\n        font-size: 1.25em;\n        margin: 0;\n    }\n\n    padding: 1em 2em;\n    width: 100%;\n    text-align: center;\n    border-bottom: 1px solid rgba(8,53,117,0.1);\n"]);return Ii=function(){return e},e}function _i(){var e=Object(y.a)(["\n    display: ",";\n    flex-direction: column;\n    box-shadow: 0 1px 5px rgba(0,0,0,0.2);\n    z-index: 5;\n    width: 100%;\n    flex-basis: 100%;\n    border-radius: 0 0 4px 0;\n    overflow-y: auto;\n    min-width: 12em;\n"]);return _i=function(){return e},e}var Ai=j.default.div(_i(),(function(e){return e.collapsed?"none":"flex"})),Di=j.default.div(Ii()),zi=j.default.div(Ri()),Li=j.default.button(Pi());function Ti(){var e=Object(y.a)(["\n    border: none;\n    background: none;\n    font-size: 1.5em;\n    padding: .1em;\n    color: darkred;\n\n    &:hover,\n    &:active {\n        color: darkred;\n        background: none;\n    }\n"]);return Ti=function(){return e},e}var Fi=j.default.button(Ti()),Mi=function(e){var n=e.index,t=e.waypoint,r=e.setWaypointName,a=e.setWaypointDesc,o=e.onWaypointDelete,i=Object(b.b)().t,c="waypoint_name_"+t.name,u="waypoint_description_"+t.name;return d.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},d.a.createElement(Fi,{className:"button",onClick:function(){return o(n)}},"\xd7"),d.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",padding:".5em"}},d.a.createElement("input",{className:c,style:{marginBottom:".2em"},type:"text",value:t.name,onChange:function(e){return r(n,e.target.value)},placeholder:i("route.no_name")}),d.a.createElement("input",{className:u,type:"text",value:t.description,onChange:function(e){return a(n,e.target.value)},placeholder:i("route.no_description")})))},Gi=function(e){var n=e.waypoints,t=e.onWaypointDelete,r=e.onWaypointCreation,a=e.setWaypointName,o=e.setWaypointDesc,i=Object(b.b)().t;return d.a.createElement(Ai,null,d.a.createElement(Di,{className:"menuHeader"},i("route.waypoints")),d.a.createElement(zi,{className:"waypointContainer"},n.map((function(e,n){return d.a.createElement(Mi,Object.assign({className:e.name,key:n},{index:n,waypoint:e,setWaypointName:a,setWaypointDesc:o,onWaypointDelete:t}))}))),d.a.createElement(Li,{className:"button",name:"addWaypointButton",onClick:r},"+"))};function Hi(){var e=Object(y.a)(["\n    border-radius: 4px 0 0 0;\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n\n    flex-basis: 60%;\n"]);return Hi=function(){return e},e}var Ui=j.default.div(Hi()),Wi=function(e){var n=e.webId,t=e.onRouteCreation,r=e.onImport,a=e.closeRouteCreation,o=e.routeBase,i=Object(b.b)().t,c="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAOk4abibzy-RPB3hyqHrln6YfCEmOnJoo","&v=3.exp&libraries=geometry,drawing,places"),u=d.a.useState(!1),s=Object(jn.a)(u,2),p=s[0],f=s[1],m=Object(l.useState)(!0),h=Object(jn.a)(m,2),g=h[0],v=h[1],x=Object(l.useState)([]),w=Object(jn.a)(x,2),O=w[0],y=w[1],j=Object(l.useState)(o?o.media:[]),E=Object(jn.a)(j,2),k=E[0],C=E[1],S=Object(l.useState)(o?o.points:[]),N=Object(jn.a)(S,2),P=N[0],R=N[1],_=Object(l.useState)(o?o.waypoints:[]),A=Object(jn.a)(_,2),D=A[0],F=A[1],M=Object(l.useState)("-"),G=Object(jn.a)(M,2),H=G[0],U=G[1],W=Object(l.useState)(!1),B=Object(jn.a)(W,2),V=B[0],J=B[1],Y=Object(l.useState)(!1),q=Object(jn.a)(Y,2),X=q[0],K=q[1],$=d.a.useState(0),Z=Object(jn.a)($,2),ee=Z[0],ne=Z[1],te=U,re=function(e){z(e,"Error")},ae=function(){var e=Object(T.a)(I.a.mark((function e(r){var a,c,u,s,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.name,c=r.description,X){e.next=15;break}if(K(!0),P.length){e.next=6;break}return re(i("route.edit.noPoints")),e.abrupt("return");case 6:return u=D.map((function(e){return{latitude:e.lat,longitude:e.lng,name:e.name,description:e.description}})),s=P.map((function(e){return{latitude:e.lat,longitude:e.lng}})),l={name:a,description:c,date:o?o.date:Date.now(),author:n,waypoints:u,points:s,media:o?o.media:[]},e.next=11,Vt.addMultimedia(l,O,n);case 11:return l=e.sent,e.next=14,t(l,o);case 14:K(!1);case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return d.a.createElement(je,null,d.a.createElement(da,{style:{display:"flex",flexDirection:"row"}},d.a.createElement(Ee,{onClick:a}),d.a.createElement(fa,{collapsed:p},p&&d.a.createElement(ma,{onClick:function(){return f(!1)}},"\u21e0"),d.a.createElement(Ui,null,d.a.createElement(Ni,Object.assign({waypoints:D,trackpoints:P,onPointAdd:function(e){V?(J(!1),F(D.concat(e))):(g&&(v(!1),L(i("route.edit.pointAdded"),i("route.edit.pointAddedTitle"))),R(P.concat(e)))},onPointDragged:function(e,n,t){var r=n.lat,a=n.lng;t?(D[e].lat=r,D[e].lng=a,F(Object(Q.a)(D))):(P[e].lat=r,P[e].lng=a,R(Object(Q.a)(P)))},onTrackpointDelete:function(e){P.splice(e,1),R(Object(Q.a)(P))},onDistanceChange:te},{googleMapURL:c,loadingElement:d.a.createElement(Ui,null),containerElement:d.a.createElement(Ui,null),mapElement:d.a.createElement(Ui,null)}))),d.a.createElement(Aa,{style:{flexBasis:"40%"}},d.a.createElement(Da,null,["route.data","route.multimedia"].map((function(e,n){return d.a.createElement(za,{selected:ee===n,key:n,onClick:function(){return ne(n)}},i(e))}))),d.a.createElement(La,{hidden:!ee},d.a.createElement(Po,{files:k,onUpload:function(e){var n=e[0];y([].concat(Object(Q.a)(O),[n]));var t=new FileReader;t.onload=function(){C([].concat(Object(Q.a)(k),[{"@id":t.result,name:n.name}]))},t.readAsDataURL(n)},onMediaDelete:function(e){var n=[],t=[],r=[];O.forEach((function(n,r){r!==e&&t.push(n)})),O.forEach((function(n,r){r!==e&&t.push(n)})),o&&(o.media.forEach((function(n,t){e!==t&&r.push(n)})),o.media=r),k.forEach((function(t,r){r!==e?n.push(t):t.name||Wt.deleteMultimedia(t)})),y(t),C(n)},editable:!0})),d.a.createElement(La,{hidden:ee},d.a.createElement(Si,Object.assign({className:"route-fields"},{onSave:ae,onError:re,onImport:r,routeBase:o,distance:H}))))),d.a.createElement(ba,{collapsed:p},!p&&d.a.createElement(ga,{onClick:function(){return f(!0)}},"\u21e2"),d.a.createElement(Gi,{waypoints:D,onWaypointDelete:function(e){D.splice(e,1),F(Object(Q.a)(D))},onWaypointCreation:function(){J(!0),L(i("route.edit.waypoint"),i("route.edit.waypointTitle"))},setWaypointName:function(e,n){D[e].name=n,F(Object(Q.a)(D))},setWaypointDesc:function(e,n){D[e].description=n,F(Object(Q.a)(D))}}))))},Bi=function(e){var n=e.route,t=n.points?n.points[0]:{lat:0,lng:0},r=i.getMarkerIcon(n.color.markerId),a=Object(l.useState)(!1),o=Object(jn.a)(a,2),c=o[0],u=o[1];return d.a.createElement(gi.Consumer,null,(function(e){return d.a.createElement("div",null,d.a.createElement(Ca.Polyline,{options:{strokeColor:n.color.hexCode,strokeOpacity:e.selectedRoute===n.id?1:.3,strokeWeight:2},visible:c||e.selectedRoute===n.id,path:n.points}),d.a.createElement(Ca.Marker,{icon:r,position:t,onMouseOver:function(){return u(!c)},onMouseOut:function(){return u(!c)},onClick:function(){return e.onRouteSelect(n)}}))}))},Vi=Object(Ca.withScriptjs)(Object(Ca.withGoogleMap)((function(e){var n=e.routes,t=e.mapRef,r=Object(l.useState)(),a=Object(jn.a)(r,2),o=a[0],c=a[1];i.getLocation(c);var u={lat:0,lng:0};return n&&n.length&&n[0].points&&n[0].points[0]&&(u=n[0].points[0]),d.a.createElement(Ca.GoogleMap,{ref:t,defaultZoom:n&&n.length?10:4,defaultCenter:u,options:{streetViewControl:!1},mapTypeId:"terrain"},o&&d.a.createElement(Ca.Marker,{icon:i.getMarkerIcon("location"),position:o}),n.map((function(e){return d.a.createElement(Bi,Object.assign({key:e.id},{route:e}))})))})));function Ji(){var e=Object(y.a)(["\n    bottom: 0px;\n    right: 0px;\n    display: grid;\n    position: absolute;\n"]);return Ji=function(){return e},e}function Yi(){var e=Object(y.a)(["\n    margin: 0 3px 3px 3px;\n    padding: 0 .5em .5em .5em;\n    \n    border: none;\n    text-transform: uppercase;\n    font-weight: bold;\n    color: ",";\n\n    background: none;\n\n    &:active {\n        background: ghostwhite;\n    }\n\n    &:hover {\n        color: #D3D3D3;\n    }\n"]);return Yi=function(){return e},e}function qi(){var e=Object(y.a)(["\n    padding: 0;\n    width: 100%\n    height: ",";\n    margin-bottom: .6em;\n\n    background-color: white;\n    \n    border-radius: 5px;\n    \n    border: .5px solid rgba(8, 53, 117, 0.1);\n    border-left: 4px solid ",";\n\n    span {\n        &.title {\n            font-size: .9em;\n            line-break: anywhere;\n        }\n\n        &.date {\n            font-size: .7em;\n            text-align: start;\n            color: #808080;\n            opacity: 0.6;\n        }\n    }\n\n    transition-duration: 200ms;\n\n    cursor: pointer;\n\n    transform: translateX(",");\n    box-shadow: 0 0px "," rgba(8, 53, 117, 0.3);\n    color: ",";\n\n    &:hover {\n        box-shadow: 0 0px 4px rgba(8, 53, 117, 0.3);\n        transform: translate(-4px, 0px);\n        color: ",";\n    }\n"]);return qi=function(){return e},e}function Xi(){var e=Object(y.a)(["\n    display: grid;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    padding: .5em;\n"]);return Xi=function(){return e},e}var Ki=j.default.div(Xi()),$i=j.default.div(qi(),(function(e){return e.selected?"6em":"4em"}),(function(e){return e.color}),(function(e){return e.selected?"-3px":"0"}),(function(e){return e.selected?"2px":"0"}),(function(e){return e.selected?e.color:"none"}),(function(e){return e.color})),Zi=j.default.button(Yi(),(function(e){return e.color})),Qi=j.default.div(Ji()),ec=function(e){var n=e.route,t=Object(b.b)().t,r=br()(n.date).fromNow(),a="title_"+n.name,o="date_"+n.name;return d.a.createElement(gi.Consumer,null,(function(e){return d.a.createElement($i,{className:"rwrapper",color:n.color.hexCode,selected:e.selectedRoute===n.id},d.a.createElement(Ki,{onClick:function(){return e.onRouteSelect(n)}},d.a.createElement("span",{className:"".concat(a," title"),name:n.name},n.name),d.a.createElement("span",{className:"".concat(o," date"),style:{alignSelf:"self-end"}},r)),e.selectedRoute===n.id&&d.a.createElement(Qi,null,e.myRoutes&&d.a.createElement(Zi,{onClick:e.shareRoute,color:n.color.hexCode,name:"route-share"},t("route.share")),d.a.createElement(Zi,{onClick:e.onRouteView,color:n.color.hexCode,name:"route-details"},t("route.details"))))}))};function nc(){var e=Object(y.a)(["\n    padding-bottom: 60px;\n    height: 100%;\n    padding-top: 60px;\n  "]);return nc=function(){return e},e}function tc(){var e=Object(y.a)(["\n  height: 100%;\n  position: relative;\n"]);return tc=function(){return e},e}var rc=j.default.div(tc()),ac=Object(b.c)()(Object(ae.withWebId)((function(e){var n=e.component,t=e.webId,r=Object(xn.a)(e,["component","webId"]),a=Object(b.b)().t,o=Object(j.default)(n)(nc());return t?d.a.createElement(Vn.a,{to:"/welcome"}):d.a.createElement(Bn.a,Object.assign({},r,{component:function(n){return d.a.createElement(rc,null,d.a.createElement(wt,Object.assign({},n,{toolbar:[{component:function(){return d.a.createElement(yn,Object(Z.a)({t:a},e))},id:"language"}]})),d.a.createElement(o,n))}}))}))),oc=t(635),ic=t(91);function cc(){var e=Object(y.a)(["\n  padding-top: 60px;\n  flex: 1 0 auto;\n  display: flex;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]);return cc=function(){return e},e}function uc(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n  min-height: 100vh;\n"]);return uc=function(){return e},e}var sc=j.default.div(uc()),lc=j.default.div(cc()),dc=Object(ae.withAuthorization)((function(e){var n=e.routes,t=e.webId,a=e.location,i=(e.history,Object(xn.a)(e,["routes","webId","location","history"])),c=Object(ae.useNotification)(t).createInbox,u=d.a.useState(!1),s=Object(jn.a)(u,2),p=s[0],f=s[1],m=Object(b.b)().t,h={message:m("appPermission.message"),title:m("notifications.error"),label:m("appPermission.link.label"),href:m("appPermission.link.href")};return Object(l.useEffect)((function(){t&&o.checkPermissions(t,h)}),[t]),p||function(){var e=Object(T.a)(I.a.mark((function e(){var n,a,i,u,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Xt.createInitialFiles(t);case 3:return e.next=5,Xt.getViadeStorage(t);case 5:return n=e.sent,a="".concat(n,"settings.ttl"),i="".concat(n,"inbox/"),u=!1,e.next=11,r.getLinkedInbox(a);case 11:return(s=e.sent)&&(i=s,u=!0),e.next=15,o.checkSpecificAppPermission(t,ae.AccessControlList.MODES.WRITE);case 15:if(!e.sent){e.next=28;break}return e.next=19,c(i,n);case 19:return e.next=21,o.checkSpecificAppPermission(t,ae.AccessControlList.MODES.CONTROL);case 21:if(!e.sent){e.next=25;break}return e.next=25,o.checkOrSetInboxAppendPermissions(i,t);case 25:if(u){e.next=28;break}return e.next=28,H.a[a].inbox.set(Object(ic.namedNode)(i));case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),d.a.createElement(d.a.Fragment,null,d.a.createElement(sc,null,d.a.createElement(Bn.a,Object.assign({},i,{component:function(e){var r=e.history;return d.a.createElement(lc,{className:"contentApp"},d.a.createElement(er,{location:a,webId:t,history:r}),d.a.createElement(oc.a,null,n.map((function(e){var n=e.component;return d.a.createElement(Bn.a,{key:e.id,path:e.path,render:function(e){return d.a.createElement(n,Object.assign({},e,{webId:t}))},webId:t,exact:!0})})),d.a.createElement(Vn.a,{to:"/404"})))}}))))}));function pc(){var e=Object(y.a)(["\n    padding-bottom: 60px;\n    height: 100%;\n    padding-top: 60px;\n  "]);return pc=function(){return e},e}function fc(){var e=Object(y.a)(["\n  min-height: 100%;\n  position: relative;\n"]);return fc=function(){return e},e}var mc=j.default.div(fc()),bc=d.a.createContext(),hc=function(e){var n=Object(ae.useWebId)(),t=e.component,r=Object(xn.a)(e,["component"]),a=Object(b.b)(),o=a.t,i=a.i18n,c=Object(j.default)(t)(pc());return d.a.createElement(bc.Provider,{value:n},d.a.createElement(Bn.a,Object.assign({},r,{component:function(e){var t=e.history,r=e.location,a=e.match;return d.a.createElement(mc,null,n?d.a.createElement(er,{history:t,location:r,match:a,webId:n}):d.a.createElement(wt,Object.assign({history:t,location:r,match:a},{toolbar:[{component:function(){return d.a.createElement(yn,{t:o,i18n:i})},id:"language"},{component:function(){return d.a.createElement(dt.a,{to:"/login"},"Login")},label:"authComponent",id:"authComponent"}]})),d.a.createElement(c,{history:t,location:r,match:a}))}})))},gc=t(633);function vc(){var e=Object(y.a)(["\n  color: #656e75;\n  font-family: Raleway;\n  font-size: 16px;\n  font-weight: 500;\n  letter-spacing: 1.2px;\n  line-height: 19px;\n  text-align: center;\n  position: relative;\n  margin: 30px 0;\n  display: inline-block;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &::before,\n  &::after {\n    width: 32%;\n    content: '';\n    background: #656e75;\n    height: 1px;\n    box-sizing: border-box;\n    top: 50%;\n  }\n\n  span {\n    padding: 0 5px;\n  }\n\n  &::before {\n    right: 0;\n  }\n\n  &::after {\n    left: 0;\n  }\n"]);return vc=function(){return e},e}function xc(){var e=Object(y.a)(["\n  display: grid;\n  flex-direction: column;\n\n  .provider-login-component {\n    div[role='option'] {\n      text-align: left !important;\n      padding-left: 20px;\n    }\n  }\n"]);return xc=function(){return e},e}function wc(){var e=Object(y.a)([""]);return wc=function(){return e},e}function Oc(){var e=Object(y.a)(["\n  h1 {\n    color: #52b5dd;\n    text-shadow: 1px 1px 2px rgba(0,0,0,0.2);\n  }\n"]);return Oc=function(){return e},e}var yc=Object(j.default)(C)(Oc()),jc=Object(j.default)(ze)(wc()),Ec=j.default.div(xc()),kc=j.default.span(vc()),Cc=function(){var e=Object(b.b)().t;return d.a.createElement(yc,{"data-testid":"login-wrapper"},d.a.createElement(P,{style:{height:"100%",overflowY:"auto"}},d.a.createElement("h1",{"data-testid":"title"},e("login.title")),d.a.createElement(jc,{className:"login-panel"},d.a.createElement(Ec,{className:"panel-body"},d.a.createElement(dt.a,{className:"ids-link-filled ids-link-filled--primary",to:"/register"},e("login.register")),d.a.createElement("a",{href:"https://solid.inrupt.com/get-a-solid-pod",rel:"noopener noreferrer",target:"_blank",className:"link"},e("login.solidHelp")),d.a.createElement(kc,{"data-testid":"login-title"},d.a.createElement("span",null,e("login.loginTitle"))),d.a.createElement(ae.ProviderLogin,{selectPlaceholder:e("login.selectPlaceholder"),inputPlaholder:e("login.inputPlaholder"),formButtonText:e("login.formButtonText"),btnTxtWebId:e("login.btnTxtWebId"),btnTxtProvider:e("login.btnTxtProvider"),className:"provider-login-component",callbackUri:"".concat(window.location.origin).concat("/viade_es2a","/#/"),errorsText:{unknown:e("login.errors.unknown"),webIdNotValid:e("login.errors.webIdNotValid"),emptyProvider:e("login.errors.emptyProvider"),emptyWebId:e("login.errors.emptyWebId")},theme:{buttonLogin:"ids-link",inputLogin:"",linkButton:""},providers:_t.getIdentityProviders()})))))};function Sc(){var e=Object(y.a)(["\n  height: 32px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-between;\n\n  button {\n    height: 32px;\n    width: 150px;\n    border-radius: 4px;\n    font-family: Raleway;\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 0.89px;\n    line-height: 11px;\n    text-align: center;\n    text-transform: uppercase;\n    border: solid 2px #52b5dd;\n    box-sizing: border-box;\n  }\n\n  .btn-solid {\n    background-color: #52b5dd;\n    color: #ffffff;\n  }\n\n  .btn-outlined {\n    background-color: #ffffff;\n    color: #52b5dd;\n    filter: opacity(40%);\n  }\n"]);return Sc=function(){return e},e}function Nc(){var e=Object(y.a)(["\n  height: 100% !important;\n  animation: fadeIn 0.2s ease-in;\n\n  a {\n    display: block;\n    color: #52b5dd;\n    font-family: Raleway;\n    font-size: 12px;\n    font-weight: 500;\n    letter-spacing: 0.75px;\n    line-height: 14px;\n    text-align: center;\n    text-decoration: none;\n\n    &:hover {\n      font-weight: 700;\n    }\n  }\n\n  .a-with-spacing {\n    margin: 24px 0;\n  }\n\n  ul {\n    padding: 0;\n    margin: 0;\n  }\n"]);return Nc=function(){return e},e}function Pc(){var e=Object(y.a)(["\n  position: relative;\n\n  h2 {\n    position: relative;\n    padding: 0;\n    color: #52b5dd;\n    font-family: Raleway;\n    font-size: 20px;\n    font-weight: bold;\n    letter-spacing: 0.75px;\n    line-height: 24px;\n    text-align: center;\n    margin: 0;\n    animation: fadeIn 0.5s ease-in;\n  }\n\n  .progress-bar {\n    position: absolute;\n    height: 1px;\n    width: 100%;\n    background: #52b5dd;\n    top: 30px;\n  }\n"]);return Pc=function(){return e},e}function Rc(){var e=Object(y.a)(["\n  justify-content: space-between;\n"]);return Rc=function(){return e},e}function Ic(){var e=Object(y.a)(["\n  h1 {\n    color: #52b5dd;\n    text-shadow: 1px 1px 2px rgba(0,0,0,0.2);\n  }\n"]);return Ic=function(){return e},e}var _c=j.default.section(Ic()),Ac=Object(j.default)(ze)(Rc()),Dc=j.default.div(Pc()),zc=j.default.div(Nc()),Lc=j.default.div(Sc());function Tc(){var e=Object(y.a)(["\n  list-style: none;\n  padding: 10px 0;\n  margin: 0;\n\n  & input[type='radio'] {\n    display: none;\n\n    &:checked {\n      + "," {\n        border-color: #52b5dd;\n        color: #52b5dd;\n\n        .checked {\n          display: block;\n          color: green;\n        }\n      }\n    }\n  }\n"]);return Tc=function(){return e},e}function Fc(){var e=Object(y.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  border: solid 1.2px rgba(115, 127, 137, 1);\n  height: 40px;\n  margin-bottom: 20.5px;\n  box-sizing: border-box;\n  padding-left: 20px;\n  position: relative;\n  overflow: hidden;\n  box-sizing: border-box;\n  transition: all 0.2s ease-in;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 8px;\n  border-radius: 4px;\n\n  .checked {\n    display: none;\n  }\n\n  &:hover {\n    border-color: #52b5dd;\n    color: #52b5dd;\n  }\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  .img-group {\n    display: flex;\n    align-items: center;\n\n    img {\n      width: 32px;\n      padding-right: 1em;\n    }\n  }\n"]);return Fc=function(){return e},e}var Mc=j.default.label(Fc()),Gc=j.default.li(Tc(),Mc),Hc=function(e){var n=e.data,t=e.onSelect,r=e.radioName,a=e.id,o=e.checked;return d.a.createElement(Gc,{"data-testid":"provider-item"},d.a.createElement("input",{type:"radio",name:r,id:a,onChange:t,value:n.registerLink,checked:o}),d.a.createElement(Mc,{htmlFor:a,className:"provider-item"},d.a.createElement("div",{className:"img-group"},d.a.createElement("img",{src:n.image,alt:n.label}),d.a.createElement("span",{className:"label"},n.label)),d.a.createElement(He.a,{icon:"check",className:"checked"})))};function Uc(){var e=Object(y.a)(["\n  text-align: center;\n  margin-top: 40px;\n\n  h1 {\n    color: #ffffff;\n  }\n\n  span {\n    color: #ffffff;\n    font-family: Raleway;\n    font-size: 16px;\n    font-weight: bold;\n    line-height: 20px;\n    text-align: center;\n    display: block;\n    padding: 1.5em 0;\n  }\n\n  .rocket {\n    width: 250px;\n    height: 250px;\n    text-align: center;\n    padding: 40px 0 40px 0;\n  }\n"]);return Uc=function(){return e},e}var Wc=Object(j.default)(C)(Uc()),Bc=function(e){function n(e){var t;return Object(Le.a)(this,n),(t=Object(Fe.a)(this,Object(Me.a)(n).call(this,e))).redirect=Object(T.a)(I.a.mark((function e(){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props.history,e.next=3,clearInterval(t.interval);case 3:n.push("/login");case 4:case"end":return e.stop()}}),e)}))),t.countDown=function(){0===t.state.timeLeft&&t.redirect(),t.setState((function(e){return{timeLeft:e.timeLeft-1}}))},t.state={timeLeft:15},t}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.countDown,1e3)}},{key:"componentWillUnmount",value:function(){var e=Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,clearInterval(this.interval);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.timeLeft;return d.a.createElement(Wc,{className:"registration-success--page"},d.a.createElement(P,null,d.a.createElement("h1",null,"Success! Welcome to the decentralized web."),d.a.createElement("img",{src:"/img/rocket.svg",alt:"rocket",className:"rocket"}),d.a.createElement("span",null,"We have emailed you more information about your new Solid Identity"),d.a.createElement("span",null,"We will redirect you to your POD in ",e," seconds...")))}}]),n}(l.Component),Vc=function(e){function n(e){var t;return Object(Le.a)(this,n),(t=Object(Fe.a)(this,Object(Me.a)(n).call(this,e))).next=function(){var e=t.state,n=e.canContinue,r=e.register.provider,a=window.location,o=a.protocol,i=a.host;n&&(window.location="".concat(r,"?returnToUrl=").concat(o,"//").concat(i,"/register/success"))},t.selectProvider=function(e){var n=t.state.register;t.setState({register:Object(Z.a)({},n,{provider:e.target.value}),canContinue:!0})},t.onSubmit=function(e){e.preventDefault();var n=t.state,r=n.canContinue,a=n.register.provider,o=window.location,i=o.protocol,c=o.host;r&&(window.location="".concat(a,"?returnToUrl=").concat(i,"//").concat(c,"/register/success"))},t.state={canContinue:!1,register:{provider:""}},t}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"render",value:function(){var e=this,n=this.state,t=n.canContinue,r=n.register.provider,a=this.props,o=a.providers,i=a.t;return d.a.createElement(C,null,d.a.createElement(P,{style:{height:"100%",overflowY:"auto"}},d.a.createElement(_c,{"data-testid":"register-wrapper"},d.a.createElement("h1",{"data-testid":"title"},i("register.title")),d.a.createElement("form",{onSubmit:this.onSubmit},d.a.createElement(Ac,{className:"register-panel"},d.a.createElement(Dc,{className:"panel-header","data-testid":"panel-header"},d.a.createElement("h2",null,i("register.step1Title")),d.a.createElement("div",{className:"progress-bar"})),d.a.createElement(zc,{className:"panel-body"},d.a.createElement(l.Fragment,null,d.a.createElement("a",{href:"https://solid.inrupt.com/how-it-works",target:"_blank",rel:"noopener noreferrer"},i("register.whatIsAProvider")),d.a.createElement(dt.a,{to:"/login",className:"a-with-spacing"},i("register.alreadySolid")),d.a.createElement("ul",null,o.map((function(n){return d.a.createElement(Hc,{data:n,key:n.id,onSelect:e.selectProvider,radioName:"providerRadio",id:"radio-".concat(n.id),checked:n.registerLink===r})}))))),d.a.createElement(Lc,{className:"actions"},d.a.createElement("button",{className:"btn-solid",onClick:this.next,type:"submit",disabled:!t},i("register.next"))))))))}}]),n}(l.Component),Jc=Object(b.c)()(Vc),Yc=function(e){function n(e){var t;return Object(Le.a)(this,n),(t=Object(Fe.a)(this,Object(Me.a)(n).call(this,e))).state={providers:[]},t}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"componentDidMount",value:function(){var e=Object(T.a)(I.a.mark((function e(){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t.getIdentityProviders();case 2:n=e.sent,this.setState({providers:n});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.providers;return d.a.createElement(Jc,Object.assign({providers:e},this.props))}}]),n}(l.Component);function qc(){var e=Object(y.a)(["\n  margin: 100px 40px 0 50px;\n  \n  flex-direction: column;\n  display: flex;\n  text-align: center;\n\n  @media only screen and (max-width: 600px) {\n    img {\n      width: 100%;\n    }\n  }\n"]);return qc=function(){return e},e}function Xc(){var e=Object(y.a)(["\n  height: 100%;\n"]);return Xc=function(){return e},e}var Kc=j.default.section(Xc()),$c=j.default.div(qc()),Zc=function(){var e=Object(b.b)().t;return d.a.createElement(Kc,null,d.a.createElement($c,null,d.a.createElement("img",{src:"img/404.svg",alt:"404"}),d.a.createElement("h3",null,e("notFound.title")),d.a.createElement("p",null,e("notFound.content")),d.a.createElement("div",{style:{whiteSpace:"nowrap"}},d.a.createElement(dt.a,{to:"/",className:"ids-link"},e("notFound.redirectButton")))))};function Qc(){var e=Object(y.a)(["\n  overflow-wrap: break-word;\n  word-break: break-word;\n"]);return Qc=function(){return e},e}function eu(){var e=Object(y.a)(["\n  background-image: ",";\n  background-size: cover;\n  border-radius: 50%;\n  width: 128px;\n  height: 128px;\n"]);return eu=function(){return e},e}function nu(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  button {\n    margin-left: 0px;\n  }\n"]);return nu=function(){return e},e}function tu(){var e=Object(y.a)(['\n    width: 50%;\n    &:after {\n      display: block;\n      content: "";\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background-color:#D0D0D0;\n      top:0;\n    }\n  ']);return tu=function(){return e},e}function ru(){var e=Object(y.a)(["\n  height: 100%;\n  text-align: center;\n  position: relative;\n\n  display: flex;\n  flex-direction: column;\n\n  padding: .5em;\n\n  img {\n    width: 120px;\n    height: 120px;\n    border-radius: 50%;\n  }\n\n  h1,\n  img {\n    margin: 0 10px;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  ","\n"]);return ru=function(){return e},e}function au(){var e=Object(y.a)(["\n  width: 50%;\n\n  img {\n    width: 60%;\n    display: block;\n    margin: 0 auto;\n  }\n"]);return au=function(){return e},e}function ou(){var e=Object(y.a)(["\n  background-color: #fff;\n  margin: 20px auto;\n\n  flex-direction: row !important;\n  padding: 50px 0 !important;\n\n  align-items: center;\n\n  max-width: 80%;\n\n  a {\n    text-decoration: none;\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  button {\n    margin-left: 8px;\n  }\n\n  &.tutorial {\n    position: relative;\n    display: initial;\n    padding: 20px 15px !important;\n\n    img {\n      width: 7em;\n      transform: rotate(-35deg);\n      position: absolute;\n      right: 6em;\n      user-select: none;\n    }\n  }\n\n  &.video {\n    display: flex;\n    padding: 0 !important;\n    background: none;\n    box-shadow: none;\n\n    video {\n      width: 100%;\n      border-radius: 4px;\n      box-shadow: 0 4px 8px rgba(0,0,0,0.3);\n      margin: auto;\n    }\n  }\n"]);return ou=function(){return e},e}function iu(){var e=Object(y.a)(["\n  width: 100%;\n  padding: 30px 0;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n\n  h3.welcome-title {\n    margin-top: 0;\n    color: #666666;\n    span {\n      font-weight: bold;\n      color: #52b5dd;\n    }\n    a {\n      font-size: 1.9rem;\n    }\n  }\n\n  h4.tutorial-title {\n    text-align: center;\n    margin: 0 0 10px;\n    color: #666666;\n    text-transform: none;\n  }\n\n  p.tutorial-content {\n\n  }\n"]);return iu=function(){return e},e}function cu(){var e=Object(y.a)(["\n  height: calc(100% - 60px);\n  position: absolute;\n  width: 100%;\n  background-image: url('img/background-pattern.svg');\n  background-repeat: repeat;\n  display: flex;\n  background-color: #c5eaf5;\n"]);return cu=function(){return e},e}var uu=j.default.section(cu()),su=j.default.section(iu()),lu=j.default.div(ou()),du=j.default.div(au()),pu=j.default.div(ru(),D.tablet(tu())),fu=j.default.div(nu()),mu=(j.default.div(eu(),(function(e){var n=e.image;return n?"url(".concat(n,")"):"#cccccc"})),j.default.span(Qc())),bu=function(e){var n=e.webId,t=e.image,r=e.updatePhoto,a=e.name,o=Object(b.b)().t;return d.a.createElement(uu,{"data-testid":"welcome-wrapper"},d.a.createElement(su,null,d.a.createElement(lu,{className:"card",style:{maxHeight:"30em"}},d.a.createElement(du,{"data-testid":"welcome-logo"},d.a.createElement("img",{src:"img/Viade.svg",alt:"Inrupt"})),d.a.createElement(pu,{"data-testid":"welcome-profile"},d.a.createElement("div",{style:{margin:"auto"}},d.a.createElement("h3",{className:"welcome-title"},o("welcome.welcome"),", ",d.a.createElement(mu,null,a)),d.a.createElement(fu,null,d.a.createElement(ae.Uploader,{fileBase:n&&n.split("/card")[0],limitFiles:1,limitSize:21e5,accept:"jpg,jpeg,png",errorsText:{sizeLimit:o("welcome.errors.sizeLimit",{limit:"".concat(2.1,"Mbs")}),unsupported:o("welcome.errors.unsupported"),maximumFiles:o("welcome.errors.maximumFiles")},onError:function(e){e&&e.statusText&&z(e.statusText,o("welcome.errorTitle"))},onComplete:function(e){r(e[e.length-1].uri,o("welcome.uploadSuccess"),o("welcome.successTitle"))},render:function(e){return d.a.createElement(lr,Object(Z.a)({},e,{webId:n,photo:t,text:o("welcome.upload"),uploadingText:o("welcome.uploadingText")}))}}))))),d.a.createElement(lu,{className:"card video"},d.a.createElement("video",{src:"https://github.com/Arquisoft/viade_es2a/blob/master/src/docs/images/v1080.mp4?raw=true",controls:!0})),d.a.createElement(lu,{className:"card tutorial"},d.a.createElement("h4",{className:"tutorial-title"},o("welcome.tutorial.title")),d.a.createElement("div",null,d.a.createElement("p",null,o("welcome.tutorial.content")),d.a.createElement("p",null,o("welcome.tutorial.content2")),d.a.createElement("p",null,o("welcome.tutorial.content3"))),d.a.createElement("div",{style:{position:"relative",height:"5.5em"}},d.a.createElement("img",{src:"img/next.svg",alt:"(+)"}),d.a.createElement(Gn,{style:{top:"0"},onClick:function(){},background:"#8a25fc",hoverBackground:"#9841fc",activeBackground:"#ad66ff",foreground:"white",text:"+"})))))},hu=function(e){function n(e){var t;return Object(Le.a)(this,n),(t=Object(Fe.a)(this,Object(Me.a)(n).call(this,e))).getProfileData=Object(T.a)(I.a.mark((function e(){var n,r,a,o,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({isLoading:!0}),n=t.props.webId,e.next=4,Xt.getProfile(n);case 4:r=e.sent,a=r.name,o=r.image,i=r.hasImage,t.setState({name:a,image:o,isLoading:!1,hasImage:i});case 9:case"end":return e.stop()}}),e)}))),t.updatePhoto=function(){var e=Object(T.a)(I.a.mark((function e(n,r){var a,o,i,c=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.length>2&&void 0!==c[2]?c[2]:"",o=t.state.hasImage,e.prev=2,i=H.a.user,!o){e.next=9;break}return e.next=7,i.vcard_hasPhoto.set(Object(ic.namedNode)(n));case 7:e.next=11;break;case 9:return e.next=11,i.vcard_hasPhoto.add(Object(ic.namedNode)(n));case 11:L(r,a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),z(e.t0.message,"Error");case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(n,t){return e.apply(this,arguments)}}(),t.state={name:"",image:"img/icon/empty-profile.svg",isLoading:!1,hasImage:!1},t}return Object(Ge.a)(n,e),Object(Te.a)(n,[{key:"componentDidMount",value:function(){this.props.webId&&this.getProfileData()}},{key:"componentDidUpdate",value:function(e){var n=this.props.webId;n&&n!==e.webId&&this.getProfileData()}},{key:"render",value:function(){var e=this.state,n=e.name,t=e.image,r=e.isLoading,a=this.props.webId;return d.a.createElement(bu,{name:n,image:t,isLoading:r,webId:a,updatePhoto:this.updatePhoto})}}]),n}(l.Component);function gu(){var e=Object(y.a)(["\n    background: white;\n\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n    padding: 1em 1em 0;\n    border: none;\n\n    border-radius: 4px;\n\n    z-index: 100001;\n\n    user-select: none;\n\n    * {\n        outline: none;\n    }\n"]);return gu=function(){return e},e}var vu=j.default.div(gu());function xu(){var e=Object(y.a)(["\n    padding: .2em 0 0 0;\n"]);return xu=function(){return e},e}function wu(){var e=Object(y.a)(["\n    border: none;\n    text-transform: uppercase;\n    font-weight: bold;\n    color: #52b5dd;\n    font-size: .75em;\n\n    transition-duration: 100ms;\n\n    zindex: 1000;\n\n    background: none;\n\n    &:active {\n        background: ghostwhite;\n    }\n\n    &:hover {\n        color: #D3D3D3;\n    }\n"]);return wu=function(){return e},e}function Ou(){var e=Object(y.a)(["\n    display: grid;\n    grid-template-columns: auto auto;\n    place-content: space-around;\n"]);return Ou=function(){return e},e}function yu(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: column;\n\n    padding: .3em ",";\n    width: 100%;\n    min-height: 3em;\n    height: auto;\n    margin-bottom: .6em;\n\n    background-color: white;\n    \n    border-radius: 5px;\n    \n    border: .5px solid rgba(8, 53, 117, 0.1);\n    border-left: 2px solid ",";\n\n    img {\n        margin: .1em;\n        border-radius: 50%;\n        height: 2.5em;\n        width: 2.5em;\n        align-self: center;\n    }\n\n    span {\n        &.friend-title {\n            font-size: .9em;\n            color: ",";\n            width: 100%;\n            margin: auto;\n            overflow-wrap: break-word;\n            line-break: anywhere;\n            width: 80%;\n        }\n\n        &.loading {\n            font-size: .9em;\n            text-align: center;\n            font-style: italic;\n            margin: .2em 0 .4em;\n        }\n\n        &.no-routes {\n            font-size: .9em;\n            text-align: center;\n            font-style: italic;\n            color: lightgray;\n            margin: .2em 0 .4em;\n        }\n    }\n\n    transition-duration: 200ms;\n\n    cursor: pointer;\n\n    transform: translateX(",");\n    box-shadow: 0 0px "," rgba(8, 53, 117, 0.3);\n    color: gray;\n\n    &:hover {\n        box-shadow: 0 0px 2px rgba(8, 53, 117, 0.3);\n        transform: translateX(",");\n    }\n"]);return yu=function(){return e},e}function ju(){var e=Object(y.a)(["\n    display: flex;\n    width: 100%;\n    height: 100%;\n    padding: .2em;\n\n    text-align: center;\n"]);return ju=function(){return e},e}var Eu=j.default.div(ju()),ku=j.default.div(yu(),(function(e){return e.selected?".3em 0":""}),(function(e){return e.selected?"#52b5dd":"gray"}),(function(e){return e.selected?"#52b5dd":"gray"}),(function(e){return e.selected?"-4px":"0"}),(function(e){return e.selected?"2px":"0"}),(function(e){return e.selected?"-4px":"-2px"})),Cu=j.default.div(Ou()),Su=j.default.button(wu()),Nu=j.default.div(xu()),Pu=function(e){var n=e.friend,t=Object(b.b)().t,r=d.a.useState(!1),a=Object(jn.a)(r,2),o=a[0],i=a[1],c=d.a.useState([]),u=Object(jn.a)(c,2),s=u[0],l=u[1],p=d.a.useState({name:n}),f=Object(jn.a)(p,2),m=f[0],h=f[1],g=function(){var e=Object(T.a)(I.a.mark((function e(t){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=7;break}return i(!0),e.next=4,t.onFriendSelect(n,s);case 4:r=e.sent,l(r),i(!1);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Xt.getProfile(n).then((function(e){return h(e)})),d.a.createElement(Rs.Consumer,null,(function(e){return!e.isDeletedFriend(n)&&d.a.createElement(ku,{selected:e.isSelectedFriend(n)},d.a.createElement(Eu,{name:"click-"+m.name,onClick:function(){return g(e)}},d.a.createElement("img",{src:m.image,alt:"profile"}),d.a.createElement("span",{className:"friend-title",content:m.name},m.name)),!o&&e.isSelectedFriend(n)&&d.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},d.a.createElement(Cu,null,d.a.createElement(Su,{name:"delete-"+m.name,id:"deletebutton",onClick:function(){return e.deleteFriend(n,s)}},t("friends.delete")),d.a.createElement(Su,{name:"openProfile-"+m.name,id:"profilebutton",onClick:function(){return window.open(n,"_blank")}},t("friends.profile"))),s.length?d.a.createElement(Nu,null,s.map((function(e){return d.a.createElement(ec,Object.assign({key:e.id},{route:e}))}))):d.a.createElement("span",{className:"no-routes"},t("feed.no_routes"))),o&&d.a.createElement("span",{className:"loading"},t("feed.loading")))}))};function Ru(){var e=Object(y.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n"]);return Ru=function(){return e},e}function Iu(){var e=Object(y.a)(["\n    border: none;\n    text-transform: uppercase;\n    font-weight: bold;\n    color: #52b5dd;\n    font-size: .75em;\n\n    transition-duration: 100ms;\n\n    zindex: 1000;\n\n    background: none;\n\n    &:active {\n        background: ghostwhite;\n    }\n\n    &:hover {\n        color: #D3D3D3;\n    }\n"]);return Iu=function(){return e},e}function _u(){var e=Object(y.a)(["\n    padding: .3em .3em 0;\n    width: 100%\n    min-height: 3em;\n    height: ",";\n    margin-bottom: .6em;\n\n    background-color: white;\n    \n    border-radius: 5px;\n    \n    border: .5px solid rgba(8, 53, 117, 0.1);\n    border-left: 2px solid ",";\n\n    span {\n        &.friend-title {\n            font-size: .9em;\n            color: ",";\n        }\n\n        &.loading {\n            font-size: .9em;\n            text-align: center;\n            font-style: italic;\n            margin: .2em 0 .4em;\n        }\n\n        &.no-routes {\n            font-size: .9em;\n            text-align: center;\n            font-style: italic;\n            color: lightgray;\n            margin: .2em 0 .4em;\n        }\n    }\n\n    transition-duration: 200ms;\n\n    cursor: pointer;\n\n    transform: translateX(",");\n    box-shadow: 0 0px "," rgba(8, 53, 117, 0.3);\n    color: gray;\n\n    &:hover {\n        box-shadow: 0 0px 2px rgba(8, 53, 117, 0.3);\n        transform: translateX(",");\n    }\n"]);return _u=function(){return e},e}function Au(){var e=Object(y.a)(["\n    display: grid;\n    width: 100%;\n    height: 100%;\n    padding: .2em;\n\n    text-align: center;\n"]);return Au=function(){return e},e}var Du=j.default.div(Au()),zu=j.default.div(_u(),(function(e){return e.selected?"auto":"3em"}),(function(e){return e.selected?"#52b5dd":"gray"}),(function(e){return e.selected?"#52b5dd":"gray"}),(function(e){return e.selected?"-4px":"0"}),(function(e){return e.selected?"2px":"0"}),(function(e){return e.selected?"-4px":"-2px"})),Lu=j.default.button(Iu()),Tu=j.default.div(Ru()),Fu=function(e){var n=e.group,t=Object(b.b)().t;return d.a.createElement(Rs.Consumer,null,(function(e){return d.a.createElement(zu,{name:"group-container-"+n.name,selected:e.isSelectedGroup(n)},d.a.createElement(Du,{onClick:function(){return e.onGroupSelected(n)}},d.a.createElement("span",{className:"friend-title",id:"friend-title",content:n.name},n.name)),e.isSelectedGroup(n)&&d.a.createElement(Tu,null,d.a.createElement(Lu,{id:"details-"+n.name,active:!0,onClick:e.onGroupView},t("groupholder.details")),d.a.createElement(Lu,{id:"edit-"+n.name,active:!0,onClick:e.groupEdition},t("groupholder.edit"))))}))},Mu=function(e){var n=e.friends,t=e.groups,r=e.collapsed,a=e.setCollapsed,o=Object(b.b)().t,i=d.a.useState(0),c=Object(jn.a)(i,2),u=c[0],s=c[1],l=["friends.friends","feed.groups"];return d.a.createElement(ei,Object.assign({id:"feed-container"},{collapsed:r,minWidth:"18em",maxWidth:"24em"}),d.a.createElement(ti,null,d.a.createElement(ri,null,l.map((function(e,n){return d.a.createElement(ai,{id:"tab-"+l[n],selected:u===n,key:n,onClick:function(){return s(n)}},o(e))}))),!r&&d.a.createElement(ai,{className:"collapse",onClick:function(){return a(!0)}},"\u21e2")),d.a.createElement(ni,{hidden:!u},t.map((function(e){return d.a.createElement(Fu,Object.assign({key:e.id},{group:e}))}))),d.a.createElement(ni,{hidden:u},n.map((function(e){return d.a.createElement(Pu,Object.assign({key:e},{friend:e}))}))))};function Gu(){var e=Object(y.a)(["\n    background-color: white;\n    margin: 1em auto;\n\n    display: flex;\n\n    box-shadow: 0 0px 3px rgba(8,53,117,0.3);\n    border-radius: 4px;\n    \n    width: 90%;\n    padding: 1em;\n"]);return Gu=function(){return e},e}function Hu(){var e=Object(y.a)(["\n    margin-left: 1em;\n\n    text-transform: uppercase;\n    font-weight: bold;\n    border: 1px solid #DAE0E6;\n\n    background: none;\n\n    color: none;\n\n    &:active {\n        background: lightgray;\n    }\n\n    &:hover {\n        border: 1px solid #DAE0E6;\n        color: white;\n        background: lightgray;\n    }\n\n    &.danger {\n        align-self: center;\n        \n        background: red;\n        color: white;\n        border: 1px solid darkred;\n\n        &:active {\n            border: 1px solid darkred;\n            color: white;\n            background: darkred;\n        }\n    }\n"]);return Hu=function(){return e},e}function Uu(){var e=Object(y.a)(["\n    background: white;\n    transition-duration: none;\n    border: none;\n    font-size: .9em;\n\n    border-radius: 4px 4px 0 0;\n    \n    border-bottom: ",";\n    background: ",";\n    color: ",";\n\n    &:hover {\n        background: #e7faff;\n        outline: none;\n        color: #52b5dd;\n        border-color: #52b5dd;\n    }\n\n    &:active {\n        background: #c3eaf4;\n        outline: none;\n        color: #52b5dd\n        border-color: #52b5dd;\n    }\n"]);return Uu=function(){return e},e}function Wu(){var e=Object(y.a)(["\n    height: 3em;\n\n    width: 100%;\n    text-align: center;\n\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n    z-index: 2;\n\n    display: grid;\n    grid-template-columns: auto auto;\n"]);return Wu=function(){return e},e}function Bu(){var e=Object(y.a)(["\n    overflow-y: auto;\n    margin: auto 0;\n"]);return Bu=function(){return e},e}function Vu(){var e=Object(y.a)(["\n    z-index: 100001;\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n\n    background-image: url('img/concentric-hex-pattern_2x.png');\n    background-repeat: repeat;\n\n    display: flex;\n    flex-direction: column;\n\n    max-width: 50em;\n    width: 100%;\n    height: 100%;\n\n    border-radius: 4px;\n\n    margin: auto 0;\n    padding: 0px;\n    border: none;\n"]);return Vu=function(){return e},e}var Ju=j.default.div(Vu()),Yu=j.default.div(Bu()),qu=j.default.div(Wu()),Xu=j.default.button(Uu(),(function(e){return e.selected?"4px solid #52b5dd":"white"}),(function(e){return e.selected?"#c3eaf4":"white"}),(function(e){return e.selected?"#52b5dd":"#666666"})),Ku=j.default.button(Hu()),$u=j.default.div(Gu());function Zu(){var e=Object(y.a)(["\n    transition: all .25s ease-in-out;\n\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n    height: auto;\n"]);return Zu=function(){return e},e}var Qu=j.default.div(Zu()),es=function(e){var n=e.webId,t=e.fetchFeed,r=Object(b.b)().t,a=Object(l.useState)(""),o=Object(jn.a)(a,2),i=o[0],c=o[1],u=function(){var e=Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt.exists(i);case 2:if(!e.sent){e.next=10;break}return e.next=5,Yt.addFriend(n,i);case 5:return L(r("friends.added"),r("friends.add")),e.next=8,t();case 8:e.next=11;break;case 10:z(r("friends.not_exists"),"Error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.a.createElement(Qu,null,d.a.createElement($u,null,d.a.createElement("input",{name:"value-friend-webID",type:"text",onChange:function(e){return c(e.target.value)},placeholder:r("friends.addWebID")}),d.a.createElement(Ku,{name:"add-friend-button",onClick:u},r("friends.addButton"))))};function ns(){var e=Object(y.a)(["\n    background-color: #fff;\n    margin: 1em auto;\n\n    display: flex;\n    flex-direction: column;\n\n    box-shadow: 0 0px 3px rgba(8,53,117,0.3);\n    border-radius: 4px;\n\n    width: 90%;\n    padding: 1em;\n\n    table {\n        td {\n            border-radius: 4px;\n            display: flex;\n            padding: .75em;\n            width: calc(100% - 1.5em);\n        }\n\n        tr {\n            padding: 0;\n            \n            border-radius: 4px;\n            transition-duration: 200ms;\n\n            &.selected {\n                background: rgba(124, 77, 255, 0.46);\n                color: black;\n            }\n\n            img {\n                border-radius: 50%;\n                height: 2em;\n                width: 2em;\n                max-width: 2em;\n                min-width: 2em;\n                margin-right: .5em;\n            }\n\n            span {\n                align-self: center;\n            }\n        }\n    }\n"]);return ns=function(){return e},e}function ts(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n\n    z-index: 1;\n"]);return ts=function(){return e},e}var rs=j.default.div(ts()),as=j.default.div(ns()),os=function(e){var n=e.onSave,t=e.onError,r=e.webId,a=Object(b.b)().t,o=Object(l.useState)([]),i=Object(jn.a)(o,2),c=i[0],u=i[1],s=Object(l.useState)(""),p=Object(jn.a)(s,2),f=p[0],m=p[1],h=Object(l.useState)(new Set),g=Object(jn.a)(h,2),v=g[0],x=g[1];return Object(l.useEffect)((function(){Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.t1=Promise,e.next=4,Yt.findValidFriends(r);case 4:return e.t2=function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xt.getProfile(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),e.t3=e.sent.map(e.t2),e.next=8,e.t1.all.call(e.t1,e.t3);case 8:e.t4=e.sent,(0,e.t0)(e.t4);case 10:case"end":return e.stop()}}),e)})))()}),[r]),d.a.createElement(rs,null,d.a.createElement($u,null,d.a.createElement("input",{name:"group-name-field",type:"text",value:f,onChange:function(e){return m(e.target.value)},placeholder:a("groupcreation.name")})),d.a.createElement(as,{style:{maxHeight:"50%"}},d.a.createElement("span",{className:"share-title"},a("groupcreator.friends")),d.a.createElement("div",{style:{overflowY:"auto"}},d.a.createElement("table",null,d.a.createElement("tbody",null,c&&c.length?c.map((function(e,n){var t=e.name,r=e.image,a=e.webId;return d.a.createElement("tr",{key:a,className:v.has(a)?"selected":"",onClick:function(){return e=a,v.has(e)?v.delete(e):v.add(e),void x(new Set(v));var e}},d.a.createElement("td",{id:"select-friend-"+t},d.a.createElement("img",{src:r,alt:"profile"}),d.a.createElement("span",{id:"friend"+n,content:t},t)))})):d.a.createElement("span",{className:"no-friends"},a("feed.no_friends")))))),d.a.createElement($u,null,d.a.createElement(Ku,{name:"saveGroup",style:{width:"100%"},onClick:function(){f?v&&v.size?n(f,Object(Q.a)(v)):t(a("groupcreation.no_member")):t(a("groupcreation.no_name"))}},a("groupcreation.create"))))};function is(){var e=Object(y.a)(["\n    transition: all .25s ease-in-out;\n\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n    height: auto;\n"]);return is=function(){return e},e}var cs=j.default.div(is()),us=function(e){var n=e.webId,t=e.closeFeedAddition,r=e.onGroupCreation,a=Object(b.b)().t,o=function(){var e=Object(T.a)(I.a.mark((function e(o,i){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={name:o,members:i,date:Date.now(),owner:n},L(a("groupcreator.creation_content"),a("groupcreator.creation_title")),e.next=4,r(c);case 4:t();case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return d.a.createElement(cs,null,d.a.createElement(os,Object.assign({id:"group-fields"},{onSave:o,onError:function(e){z(e,"Error")},webId:n})))},ss=function(e){var n=e.webId,t=e.closeFeedAddition,r=e.onGroupCreation,a=e.fetchFeed,o=Object(b.b)().t,i=d.a.useState(0),c=Object(jn.a)(i,2),u=c[0],s=c[1];return d.a.createElement(je,{className:"wrap"},d.a.createElement(Ee,{className:"button",onClick:t}),d.a.createElement(Ju,{id:"feed-container"},d.a.createElement(qu,{className:"tabcontainer"},["feedadditionpanel.friends","feedadditionpanel.groups"].map((function(e,n){return d.a.createElement(Xu,{id:"tabButton-"+n,selected:u===n,key:n,onClick:function(){return s(n)}},o(e))}))),d.a.createElement(Yu,{className:"sc1",hidden:!u},d.a.createElement(us,{webId:n,closeFeedAddition:t,onGroupCreation:r})),d.a.createElement(Yu,{className:"sc2",hidden:u},d.a.createElement(es,{webId:n,fetchFeed:a}))))};function ls(){var e=Object(y.a)(["\n    background-color: white;\n    margin: 1em;\n\n    line-break: anywhere;\n\n    box-shadow: 0 0px 3px rgba(8,53,117,0.3);\n    border-radius: 4px;\n    \n    width: calc(100% - 2em);\n    padding: .75em;\n"]);return ls=function(){return e},e}function ds(){var e=Object(y.a)(["\n    border-radius: 4px 4px 0 0;\n    box-shadow: 0 0px 3px rgba(8,53,117,0.3);\n    background-color: white;\n\n    width: 100%;\n\n    padding: .75em;\n    font-size: 1.75em;\n\n    z-index: 5;\n"]);return ds=function(){return e},e}function ps(){var e=Object(y.a)(["\n    margin: auto;\n    overflow-y: auto;\n"]);return ps=function(){return e},e}function fs(){var e=Object(y.a)(["\n    background-image: url('img/concentric-hex-pattern_2x.png');\n    background-repeat: repeat;\n\n    border-radius: 4px;\n    margin: auto;\n    padding: 0px;\n    border: none;\n\n    transition: all .25s ease-in-out;\n\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n\n    background-color: white;\n\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n    height: 100%;\n\n    max-width: 50em;\n    z-index: 100001;\n"]);return fs=function(){return e},e}var ms=j.default.div(fs()),bs=j.default.div(ps()),hs=j.default.div(ds()),gs=j.default.div(ls()),vs=function(e){var n=e.selectedGroup,t=e.closeGroupView;return d.a.createElement(je,null,d.a.createElement(Ee,{onClick:t}),d.a.createElement(ms,null,d.a.createElement(hs,{id:"group-name",content:n.name},n.name),d.a.createElement(bs,null,n?n.members.map((function(e,n){return d.a.createElement(gs,{id:"member-"+e,key:n},e)})):"null")))};function xs(){var e=Object(y.a)(["\n    background-image: url('img/concentric-hex-pattern_2x.png');\n    background-repeat: repeat;\n\n    border-radius: 4px;\n    margin: auto;\n    padding: 0px;\n    border: none;\n\n    overflow-y: auto;\n\n    transition: all .25s ease-in-out;\n\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n\n    background-color: white;\n\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n    height: 100%;\n\n    max-width: 50em;\n    z-index: 100001;\n"]);return xs=function(){return e},e}function ws(){var e=Object(y.a)(["\n    transition: all .25s ease-in-out;\n\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n    height: auto;\n\n    margin: auto;\n"]);return ws=function(){return e},e}var Os=j.default.div(ws()),ys=j.default.div(xs());function js(){var e=Object(y.a)(["\n    background-color: #fff;\n    margin: 1em auto;\n\n    display: flex;\n    flex-direction: column;\n\n    box-shadow: 0 0px 3px rgba(8,53,117,0.3);\n    border-radius: 4px;\n\n    width: 90%;\n    padding: 1em;\n\n    table {\n        td {\n            border-radius: 4px;\n            display: flex;\n            padding: .75em;\n            width: calc(100% - 1.5em);\n        }\n\n        tr {\n            padding: 0;\n            \n            border-radius: 4px;\n            transition-duration: 200ms;\n\n            &.selected {\n                background: rgba(124, 77, 255, 0.46);\n                color: black;\n            }\n\n            img {\n                border-radius: 50%;\n                height: 2em;\n                width: 2em;\n                max-width: 2em;\n                min-width: 2em;\n                margin-right: .5em;\n            }\n\n            span {\n                align-self: center;\n            }\n        }\n    }\n"]);return js=function(){return e},e}function Es(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n\n    z-index: 1;\n"]);return Es=function(){return e},e}var ks=j.default.div(Es()),Cs=j.default.div(js()),Ss=function(e){var n=e.onEdit,t=e.onError,r=e.webId,a=e.selectedGroup,o=e.onGroupDeletion,i=Object(b.b)().t,c=Object(l.useState)(),u=Object(jn.a)(c,2),s=u[0],p=u[1],f=Object(l.useState)(!1),m=Object(jn.a)(f,2),h=m[0],g=m[1],v=Object(l.useState)(new Set),x=Object(jn.a)(v,2),w=x[0],O=x[1],y=Object(l.useState)(new Set),j=Object(jn.a)(y,2),E=j[0],k=j[1],C=Object(l.useState)([]),S=Object(jn.a)(C,2),N=S[0],P=S[1],R=Object(l.useState)(new Set),_=Object(jn.a)(R,2),A=_[0],D=_[1],z=function(){var e=Object(T.a)(I.a.mark((function e(){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w&&w.size){e.next=3;break}return t(i("groupcreation.no_member")),e.abrupt("return");case 3:r=Object(Q.a)(w).map((function(e){return e.webId})),n(h?s:a.name,r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(T.a)(I.a.mark((function e(){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.name,e.next=3,qt.deleteGroup(a.id);case 3:L(n+i("groupviewer.deletion_content"),i("groupviewer.deletion_title")),o();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=P,e.t1=Promise,e.next=4,Yt.findValidFriends(r);case 4:return e.t2=function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xt.getProfile(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),e.t3=e.sent.map(e.t2),e.next=8,e.t1.all.call(e.t1,e.t3);case 8:return e.t4=e.sent,e.abrupt("return",(0,e.t0)(e.t4));case 10:case"end":return e.stop()}}),e)})))(),Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=O,e.t1=Set,e.next=4,Promise.all(a.members.map(function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xt.getProfile(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 4:return e.t2=e.sent,e.t3=new e.t1(e.t2),e.abrupt("return",(0,e.t0)(e.t3));case 7:case"end":return e.stop()}}),e)})))()}),[r]),d.a.createElement(ks,null,d.a.createElement($u,null,d.a.createElement("input",{id:"new-name-field",type:"text",value:s,onChange:function(e){p(e.target.value),g(!0)},placeholder:a.name})),d.a.createElement(Cs,{style:{maxHeight:"50%"}},d.a.createElement("span",{className:"share-title"},i("groupeditor.members")),d.a.createElement("span",null,i("groupeditor.checkbox")),d.a.createElement("div",{style:{overflowY:"auto"}},d.a.createElement("table",null,d.a.createElement("tbody",null,Object(Q.a)(w).map((function(e){var n=e.name,t=e.image,r=e.webId,a=e.i;return d.a.createElement("tr",{id:"checkbox-"+r,key:r,className:E.has(r)?"selected":"",onClick:function(){return e=r,E.has(e)?E.delete(e):E.add(e),void k(new Set(E));var e}},d.a.createElement("td",{id:"name"+a},d.a.createElement("img",{src:t,alt:"profile"}),d.a.createElement("span",null,n)))}))))),d.a.createElement(Ku,{id:"delete-group-member",style:{margin:"1em 0 0"},onClick:function(){return O(new Set(Object(Q.a)(w).filter((function(e){return!E.has(e.webId)})))),k(new Set),void L("Member succesfully removed",i("groupeditor.edition_title"))}},i("groupeditor.delete"))),d.a.createElement(Cs,{style:{maxHeight:"50%"}},d.a.createElement("span",{className:"share-title"},i("groupcreator.friends")),d.a.createElement("div",{style:{overflowY:"auto"}},d.a.createElement("table",null,d.a.createElement("tbody",null,N&&N.length?N.map((function(e,n){return d.a.createElement("tr",{key:e.webId,className:A.has(e)?"selected":"",onClick:function(){return function(e){A.has(e)?A.delete(e):A.add(e),D(new Set(A))}(e)}},d.a.createElement("td",{id:"name"+n},d.a.createElement("img",{src:e.image,alt:"profile"}),d.a.createElement("span",null,e.name)))})):d.a.createElement("span",{className:"no-friends"},i("feed.no_friends"))))),d.a.createElement(Ku,{style:{margin:"1em 0 0"},onClick:function(){return function(){var e=Object(Q.a)(w),n=[];A.forEach((function(t){e.filter((function(e){return t.webId===e.webId})).length||n.push(t)})),O(new Set([].concat(Object(Q.a)(w),n))),D(new Set),L(i("groupcreator.friend_content"),i("groupcreator.friend_title"))}()}},i("groupcreation.add_button"))),d.a.createElement($u,null,d.a.createElement(Ku,{id:"save-edit-button",style:{width:"100%"},onClick:z},i("groupeditor.save")),d.a.createElement(Ku,{id:"delete-group",className:"danger",style:{width:"100%"},onClick:F},i("groupviewer.delete"))))},Ns=function(e){var n=e.webId,t=e.closeGroupEdition,r=e.onGroupEdition,a=e.selectedGroup,o=e.onGroupDeletion,i=Object(b.b)().t,c=a.date,u=function(){var e=Object(T.a)(I.a.mark((function e(o,u){var s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={name:o,members:u,date:c,owner:n,id:a.id},L(i("groupeditor.edition_content"),i("groupeditor.edition_title")),e.next=4,r(s);case 4:t();case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return d.a.createElement(je,null,d.a.createElement(Ee,{onClick:t}),d.a.createElement(ys,null,d.a.createElement(Os,null,d.a.createElement(Ss,Object.assign({id:"edit-fields"},{onEdit:u,onError:function(e){z(e,"Error")},webId:n,selectedGroup:a,onGroupDeletion:o})))))},Ps="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAOk4abibzy-RPB3hyqHrln6YfCEmOnJoo","&v=3.exp&libraries=geometry,drawing,places"),Rs=d.a.createContext(),Is=$a((function(e){var n=e.friends,t=e.groups,r=e.webId,a=e.fetchFeed,o=Object(b.b)().t,i=d.a.useState(0),c=Object(jn.a)(i,2),u=c[0],s=c[1],l=d.a.useState([]),p=Object(jn.a)(l,2),f=p[0],m=p[1],h=d.a.useState([]),g=Object(jn.a)(h,2),v=g[0],x=g[1],w=d.a.useState([]),O=Object(jn.a)(w,2),y=O[0],j=O[1],E=d.a.useState(null),k=Object(jn.a)(E,2),C=k[0],S=k[1],N=d.a.useState(!1),P=Object(jn.a)(N,2),R=P[0],_=P[1],A=d.a.useState(null),D=Object(jn.a)(A,2),z=D[0],L=D[1],F=d.a.useState(null),M=Object(jn.a)(F,2),G=M[0],H=M[1],U=me()("route-map"),W=Object(jn.a)(U,3),B=W[0],V=W[1],J=W[2],Y=me()("route-map"),q=Object(jn.a)(Y,3),X=q[0],K=q[1],$=q[2],Z=me()("route-map"),ee=Object(jn.a)(Z,3),ne=ee[0],te=ee[1],re=ee[2],ae=me()("route-map"),oe=Object(jn.a)(ae,3),ie=oe[0],ce=oe[1],ue=oe[2],se=me()("route-map"),le=Object(jn.a)(se,3),de=le[0],pe=le[1],fe=le[2],be=d.a.useRef(),he=function(){var e=Object(T.a)(I.a.mark((function e(n,t){var a,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ee(n)){e.next=6;break}return ve(n),Oe(t),e.abrupt("return",[]);case 6:return xe(n),a=[],e.next=10,Vt.getRoutesByOwner([n],r);case 10:return(o=e.sent).length>0&&(a=o[0].routes),we(a),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ve=function(e){y.splice(y.indexOf(e),1),j(Object(Q.a)(y))},xe=function(e){j(y.concat(e))},we=function(e){e.forEach((function(e,n){return e.color=ge[(n+u)%ge.length]})),s(u+e.length),x([].concat(Object(Q.a)(v),Object(Q.a)(e)))},Oe=function(e){e.forEach((function(e){return v.splice(v.indexOf(e),1)})),x(Object(Q.a)(v))},ye=function(){var e=Object(T.a)(I.a.mark((function e(n,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H([n,t]),pe();case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),je=function(){var e=Object(T.a)(I.a.mark((function e(n){var t,a,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G||!n){e.next=6;break}return t=Object(jn.a)(G,2),a=t[0],o=t[1],Ee(a)&&(ve(a),Oe(o)),m(f.concat(a)),e.next=6,Yt.deleteFriend(r,a);case 6:H(null),fe();case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ee=function(e){return y.includes(e)},ke=function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.saveGroup(r,n);case 2:return e.next=4,a();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(T.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.editGroup(r,n);case 2:return e.next=4,a();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue(),e.next=3,a();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(e){return z&&z.id===e.id};return d.a.createElement(Uo,{"data-testid":"map-holder",id:"route-map"},d.a.createElement(gi.Provider,{value:{selectedRoute:C,onRouteView:function(){C&&V()},onRouteSelect:function(e){var n=C===e.id?null:e.id;S(n),n&&e.points[0]&&be.current.panTo(e.points[0])},collapsed:R,setCollapsed:_}},R&&d.a.createElement(Bo,{onClick:function(){return _(!1)}},"\u21e0"),d.a.createElement(Vi,Object.assign({routes:v},{mapRef:be,"data-testid":"map",googleMapURL:Ps,loadingElement:d.a.createElement(Wo,{collapsed:R}),containerElement:d.a.createElement(Wo,{collapsed:R}),mapElement:d.a.createElement(Wo,{collapsed:R})})),d.a.createElement(Rs.Provider,{value:{isSelectedFriend:Ee,onFriendSelect:he,deleteFriend:ye,isDeletedFriend:function(e){return f.includes(e)},onGroupSelected:function(e){Ne(e)?L(null):L(e)},onGroupView:function(){z&&te()},groupEdition:function(){z&&ce()},isSelectedGroup:Ne}},d.a.createElement(Mu,Object.assign({"data-testid":"side-menu"},{friends:n,groups:t,collapsed:R,setCollapsed:_,webId:r}))),d.a.createElement(B,null,d.a.createElement(yi,{route:v.filter((function(e){return e.id===C}))[0],closeRouteView:J})),d.a.createElement(X,null,d.a.createElement(ss,{webId:r,closeFeedAddition:$,onGroupCreation:ke,fetchFeed:a})),d.a.createElement(ne,null,d.a.createElement(vs,{selectedGroup:z,closeGroupView:re})),d.a.createElement(ie,null,d.a.createElement(Ns,{webId:r,closeGroupEdition:ue,onGroupEdition:Ce,selectedGroup:z,onGroupDeletion:Se})),d.a.createElement(de,null,d.a.createElement(vu,{id:"delete-modal"},d.a.createElement(Tn,{onAccept:function(){return je(!0)},onDecline:je,options:{message:o("friends.delete_confirmation")},parentSelector:"#delete-modal"}))),d.a.createElement(Gn,{onClick:K,background:"#8a25fc",hoverBackground:"#9841fc",activeBackground:"#ad66ff",foreground:"white",text:"+"})))})),_s=[{id:"welcome",path:"/welcome",component:hu},{id:"feed",path:"/feed",component:function(e){var n=e.webId,t=Object(l.useState)([]),r=Object(jn.a)(t,2),a=r[0],o=r[1],i=Object(l.useState)([]),c=Object(jn.a)(i,2),u=c[0],s=c[1],p=Object(l.useState)(!1),f=Object(jn.a)(p,2),m=f[0],b=f[1];Object(l.useEffect)((function(){n&&h()}),[]);var h=function(){var e=Object(T.a)(I.a.mark((function e(){var t,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,qt.createInitialFiles(n);case 3:return e.next=5,Yt.findValidFriends(n);case 5:return(t=e.sent)&&o(t),e.next=9,qt.findAllGroups(n);case 9:(r=e.sent)&&s(r),b(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.a.createElement(Is,Object.assign({"data-testid":"route-map",isLoading:m},{friends:a,groups:u,webId:n,fetchFeed:h}))}},{id:"myRoutes",path:"/my-routes",component:function(e){var n=e.webId,t=Object(l.useState)(!1),r=Object(jn.a)(t,2),a=r[0],o=r[1],i=Object(l.useState)([]),c=Object(jn.a)(i,2),u=c[0],s=c[1];Object(l.useEffect)((function(){n&&p()}),[]);var p=function(){var e=Object(T.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,Vt.findAllRoutes(n);case 3:(t=e.sent)&&s(t),o(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.a.createElement(xi,Object.assign({isLoading:a},{routes:u,webId:n,fetchRoutes:p}))}}],As=function(){return d.a.createElement(gc.a,null,d.a.createElement(l.Fragment,null,d.a.createElement(oc.a,null,d.a.createElement(ac,{component:Cc,path:"/login",exact:!0}),d.a.createElement(ac,{component:Yc,path:"/register",exact:!0}),d.a.createElement(ac,{path:"/register/success",component:Bc,exact:!0}),d.a.createElement(hc,{path:"/404",component:Zc,exact:!0}),d.a.createElement(Vn.a,{from:"/",to:"/feed",exact:!0}),d.a.createElement(dc,{path:"/",routes:_s}),d.a.createElement(Vn.a,{to:"/404"}))))};t(616),t(618),t(620),t(622),t(624);function Ds(){var e=Object(y.a)(["\n  &.solid-toaster-container {\n    //min-width: 380px;\n    //margin-left: 0;\n    //transform: translateX(-50%);\n    padding: 0;\n    & .toaster-error {\n      color: #fff;\n      background: rgba(213, 0, 0, 0.9);\n    }\n\n    & .toaster-success {\n      color: #fff;\n      background: rgba(124, 77, 255, 0.9);\n    }\n  }\n\n  & .solid-toaster {\n    border-radius: 4px;\n    //min-width: 380px;\n    color: #fff;\n    display: flex;\n    align-content: center;\n    min-height: 72px;\n    margin: 0;\n\n    & > .solid-toaster-body {\n      margin: 0;\n      display: flex;\n    }\n\n    & > button {\n      color: #fff;\n      opacity: 0.8;\n    }\n  }\n"]);return Ds=function(){return e},e}var zs=Object(j.default)(O.b)(Ds());Hn.c.add(Un.a),Hn.c.add(Wn.a);var Ls=function(){return d.a.createElement(l.Suspense,{fallback:d.a.createElement(bn,null)},d.a.createElement(l.Fragment,null,d.a.createElement(As,null),d.a.createElement(zs,{autoClose:5e3,position:O.c.POSITION.TOP_CENTER,newestOnTop:!0,closeOnClick:!0,pauseOnVisibilityChange:!0,draggable:!0,className:"solid-toaster-container",toastClassName:"solid-toaster",bodyClassName:"solid-toaster-body",transition:O.a})))},Ts=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Fs(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}f.a.render(d.a.createElement(Jn,{component:function(e,n){return d.a.createElement(lt,{error:e,info:n})}},d.a.createElement(Ls,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat(".","/service-worker.js");Ts?(!function(e,n){fetch(e).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Fs(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):Fs(n,e)}))}}()}},[[291,1,2]]]);
//# sourceMappingURL=main.edaf8510.chunk.js.map